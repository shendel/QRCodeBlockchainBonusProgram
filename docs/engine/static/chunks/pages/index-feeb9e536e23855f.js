(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(39207)}])},59622:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var a=t(85893);function i(e){return(0,a.jsx)("h1",{children:"404"})}},39207:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Sn}});var a=t(41799),i=t(85893),s=t(67294),r=t(69396),c=t(11163);function o(e){var n=e.on404,t=e.views,i=e.props,o=(0,c.useRouter)(),l=(0,s.useState)(o.asPath.split("#")[1]||""),d=l[0],u=l[1],m=function(e){window.location.hash=e},p=function(e){u(e?e.split("#")[1]:"/")};(0,s.useEffect)((function(){var e=function(){return p(window.location.hash)},n=function(e){return p(e)};return o.events.on("hashChangeStart",n),window.addEventListener("hashchange",e),window.addEventListener("load",e),function(){o.events.off("hashChangeStart",n),window.removeEventListener("load",e),window.removeEventListener("hashchange",e)}}),[o.asPath,o.events]);var h=function(e){e||(e="/");var n=!1;return Object.keys(t).forEach((function(t){var a=[],i={},s=0;t.split("/").filter((function(e){return""!=e})).forEach((function(e,n){":"==e.substr(0,1)?(i[n]=e,s++):a.push(e)}));var r=[],c={},o=0;e.split("/").filter((function(e){return""!=e})).forEach((function(e,n){void 0!==i[n]?(c[i[n].substr(1)]=e,o++):r.push(e)})),o==s&&r.join("/").toLowerCase()==a.join("/").toLowerCase()&&(n={params:c,path:t})})),n},y=(0,s.useState)(h(d)),f=y[0],g=y[1];(0,s.useEffect)((function(){g(h(d))}),[d]);return f?s.createElement(t[f.path],(0,r.Z)((0,a.Z)({},e,i),{gotoPage:m,params:f.params,render404:function(){return s.createElement(n,(0,r.Z)((0,a.Z)({},e,i),{gotoPage:m}))}})):n?s.createElement(n,(0,r.Z)((0,a.Z)({},e,i),{gotoPage:m})):null}function l(e){e.gotoPage;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("h1",{children:"Home"})})}var d=t(59622),u=t(23612),m=t(69077),p=function(e){var n=(0,m.mA)().isConnecting,t=((0,m.qL)().disconnect,(0,a.Z)({connectView:function(e,n){return(0,i.jsx)("button",{disabled:e,onClick:n,children:"Connect"})},connectedView:function(e,n){return(0,i.jsx)("button",{children:n||e})},wrongChainView:function(e){return(0,i.jsx)("button",{onClick:e,children:"Unsupported network"})}},e)),s=t.connectView,c=t.connectedView,o=t.wrongChainView;return(0,i.jsx)(u.NL.Custom,{children:function(e){var t=e.account,l=e.chain,d=(e.openAccountModal,e.openChainModal),u=e.openConnectModal,m=e.mounted;return(0,i.jsx)("div",(0,r.Z)((0,a.Z)({},!m&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}}),{children:m&&t&&l?l.unsupported?o(d):c(t.address,t.ensName):s(n,u)}))}})},h=t(82670),y=t(18828),f=t(42375),g={energy:{chainId:1800500,name:"EnergyChain",nativeCurrency:{name:"Energy",symbol:"ENERGY",decimals:18},rpc:"https://rpc.energy-blockchain.ru/",explorer:"#",multicall:"0x48d7ac38530697aDB91061B6D141C8c763edE565"},proxima:{chainId:800500,name:"ProximaChain",nativeCurrency:{name:"Proxima",symbol:"PROXIMA",decimals:18},rpc:"http://rpc.proxima:8545/",explorer:"http://explorer.proxima/",multicall:"0xdA1FB74466030C13064cF263A26a25b158bE2aB3"},goerli:{chainId:5,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpc:"https://eth-goerli.g.alchemy.com/v2/wNvkA78LYEG7fb5S5z4nJIfB22dAcvuH",explorer:"https://goerli.etherscan.io",multicall:"0xf0cc52809a6c63dab849e368b0620db17cb41cf8"},mainnet:{chainId:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpc:"https://mainnet.infura.io/v3/7213b5d53a4943b7af08a9cfce1cf2e2",explorer:"https://etherscan.io",multicall:"0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696"},bsc:{chainId:56,name:"BSC",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpc:"https://bscrpc.com/",explorer:"https://bscscan.com",multicall:"0xa9193376D09C7f31283C54e56D013fCF370Cd9D9"},bsc_test:{chainId:97,name:"BSC testnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpc:"https://data-seed-prebsc-1-s2.binance.org:8545",explorer:"https://testnet.bscscan.com",multicall:"0xe348b292e8eA5FAB54340656f3D374b259D658b8"},matic:{chainId:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpc:"https://polygon-rpc.com/",explorer:"https://polygonscan.com/",multicall:"0x02817C1e3543c2d908a590F5dB6bc97f933dB4BD"},mumbai:{chainId:80001,name:"Polygon testnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpc:"https://endpoints.omniatech.io/v1/matic/mumbai/public",explorer:"https://mumbai.polygonscan.com/",multicall:"0x6aa1bdc159e28beca44cc7f1a260a25e7b63f53d"},fantom:{chainId:250,name:"Fantom Opera",nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18},rpc:"https://rpc.ftm.tools/",explorer:"https://ftmscan.com",multicall:"0x22D4cF72C45F8198CfbF4B568dBdB5A85e8DC0B5"},arbeth_mainnet:{chainId:42161,name:"Arbitrum",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpc:"https://arb1.arbitrum.io/rpc",explorer:"https://arbiscan.io/",multicall:"0x80C7DD17B01855a6D2347444a0FCC36136a314de"},xdai:{chainId:100,name:"Gnosis Mainnet (xDai)",nativeCurrency:{name:"XDAI",symbol:"XDAI",decimals:18},rpc:"https://rpc.gnosischain.com",explorer:"https://blockscout.com/xdai/mainnet",multicall:"0x67dA5f2FfaDDfF067AB9d5F025F8810634d84287"}},x=function(e){return Object.keys(g).filter((function(n){return g[n].chainId==e})).map((function(e){return{id:g[e].chainId,network:e,name:g[e].name,nativeCurrency:g[e].nativeCurrency,rpcUrls:{default:{http:[g[e].rpc]},public:{http:[g[e].rpc]}}}}))[0]||!1},b=function(e){var n=Object.keys(g).filter((function(n){return"".concat(g[n].chainId)=="".concat(e)}));if(n.length)return g[n[0]].rpc},j=function(e){var n=void 0==e?Object.keys(g).map((function(e){return{id:g[e].chainId,network:e,name:g[e].name,nativeCurrency:g[e].nativeCurrency,rpcUrls:{default:{http:[g[e].rpc]},public:{http:[g[e].rpc]}}}})):(0,h.Z)(e,Array)?e.map((function(e){return x(e)})):[x(e)];return(0,y.QB)(n,[(0,f.R)({rpc:function(e){return{http:b(e.id)}}})])},v=t(37918),w=t.n(v),T=t(1372),C=t(2153),k=function(){return C.OF()},A=function(e){return e.trim().toLowerCase().split(" ").filter((function(e){return e})).join(" ")},S=function(e){var n=e.mnemonic,t=e.walletNumber,a=void 0===t?0:t,i=e.path,s=A(n),r=C.Z1(s),c=T.hdkey.fromMasterSeed(r).derivePath(i||"m/44'/60'/0'/0/".concat(a)).getWallet(),o=c.getPublicKey(),l=c.getPrivateKey();return{mnemonic:s,address:"0x".concat(c.getAddress().toString("hex")),publicKey:"0x".concat(o.toString("hex")),privateKey:"0x".concat(l.toString("hex")),wallet:c}},N=function(e){return C._I(A(e))},M=JSON.parse('[{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes[]","name":"returnData","type":"bytes[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"blockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBlockNumber","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"internalType":"address","name":"coinbase","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"internalType":"uint256","name":"difficulty","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"internalType":"uint256","name":"gaslimit","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryAggregate","outputs":[{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryBlockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"}]');function F(e){var n=b(e),t=function(e){var n=Object.keys(g).filter((function(n){return"".concat(g[n].chainId)=="".concat(e)}));if(n.length)return g[n[0]].multicall}(e);return new(new(w())(n).eth.Contract)(M,t)}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:options,n=e.address,t=e.chainId;return new Promise((function(e,a){F(t).methods.getEthBalance(n).call().then((function(n){e(n)})).catch((function(e){a(e)}))}))},I=1800500,E="0x95B893d848d2D27A6eB14eD4dc342E00501b25Ae",B="0x5E232567d91C2116C113a9ECCDD2487A7F846959",P="0x190bF432561bC2D6b8A29B5b32B7A9EFE7cDBC04",R="0x190bF432561bC2D6b8A29B5b32B7A9EFE7cDBC04",D="0x742d88173585722d33Bd8f45adAD6B8dD1C26eEb",O="0xe8BF061A306549878f568C2a768D9575aD773386",H="QRCODE_SEED",Q=[1,5,10],W={60:"1 minute",300:"5 minutes",600:"10 minutes",900:"15 minutes",1800:"30 minutes",3600:"1 hour"},q=function(e){var n=b(e),t=new(w())(n),a=localStorage.getItem(H);a||(a=k(),localStorage.setItem(H,a));var i=S({mnemonic:a}),s=t.eth.accounts.privateKeyToAccount(i.privateKey);return t.eth.accounts.wallet.add(s.privateKey),console.log("[BrowserWallet] >>>> ",i),{web3:t,mnemonic:a,account:i.address}},Z=(0,s.createContext)({browserWeb3:!1,browserAccount:!1,browserMnemonic:"",browserBackupReady:!1,balance:0,isBalanceFetched:!1,isBalanceFetching:!0,switchAccount:function(){}}),L=function(){return(0,s.useContext)(Z)};function G(e){var n=e.children,t=e.chainId,a=(0,s.useState)(!1),r=a[0],c=a[1],o=(0,s.useState)(!1),l=o[0],d=o[1],u=(0,s.useState)(""),m=u[0],p=u[1],h=(0,s.useState)(!1),y=(h[0],h[1],(0,s.useState)(0)),f=y[0],g=y[1],x=(0,s.useState)(!1),b=x[0],j=x[1],v=(0,s.useState)(!0),w=v[0],T=v[1];(0,s.useEffect)((function(){l&&t&&(j(!1),T(!0),_({address:l,chainId:t}).then((function(e){g(e),j(!0),T(!1)})).catch((function(e){j(!1),T(!1),console.log(">> InjectedWeb3Provider",e)})))}),[l,t]),(0,s.useEffect)((function(){var e=q(t),n=e.web3,a=e.account,i=e.mnemonic;c(n),d(a),p(i)}),[t]);return(0,i.jsx)(Z.Provider,{value:{browserWeb3:r,browserMnemonic:m,browserAccount:l,balance:f,isBalanceFetched:b,isBalanceFetching:w,switchAccount:function(e){if(N(e)){console.log(">>> do switch account",e),localStorage.setItem(H,A(e));var n=q(t),a=n.web3,i=n.account,s=n.mnemonic;return c(a),d(i),p(s),!0}return!1}},children:n})}function U(e){var n=L().browserAccount;return(0,i.jsxs)("header",{className:"mainHeader",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"Browser account:"}),(0,i.jsxs)("a",{href:"#/account/",children:["[",n,"]"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"Injected account:"}),(0,i.jsx)(p,{connectView:function(e,n){return(0,i.jsx)("button",{disabled:e,onClick:n,children:"Do connect"})},connectedView:function(e){return(0,i.jsxs)("div",{children:["[",e,"]"]})},wrongChainView:function(e){return(0,i.jsx)("button",{onClick:e,children:"Switch chain"})}})]})]})}var V=t(70794),z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return new V.Z(e).multipliedBy(Math.pow(10,n)).toFixed()},Y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return new V.Z(e).div(new V.Z(10).pow(n)).toFixed()},X=function(e){return"".concat(e.substr(0,6),"...").concat(e.substr(-4,4))};function K(e){var n=e.gotoPage,t=e.factoryStatus,a=e.backendStatus,s=a.claimer_balance,r=a.bridge_qrcode_balance,c=a.bridge_qrcode_tokenBalance,o=a.bridge_qrcode_tokenDecimals,l=a.bridge_qrcode_tokenSymbol,d=a.bridge_mainnet_balance,u=a.bridge_mainnet_tokenBalance,m=a.bridge_mainnet_tokenDecimals,p=a.bridge_mainnet_tokenSymbol;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:"\n        .adminDashStatus {\n          display: flex;\n          justify-content: center;\n          align-items: stretch;\n          flex-wrap: wrap;\n          flex-direction: row;\n        }\n        .adminDashStatus .cart {\n          margin: 0.5em;\n          background: #fff;\n          border-radius: 5px;\n          box-shadow: 1px 1px 5px 0px #1d4a725e;\n        }\n        .adminDashStatus .cart DIV {\n          padding: 0.5em;\n          color: #111827;\n          font-size: 11pt;\n        }\n        .adminDashStatus .cart H3 {\n          background: #ccdfeb;\n          margin: 0;\n          padding: 0.5em;\n          font-size: 14pt;\n          color: #11273b;\n          border-top-left-radius: 0px;\n          border-top-right-radius: 0px;\n        }\n      "}),(0,i.jsxs)("div",{className:"adminDashStatus",children:[(0,i.jsxs)("div",{className:"cart",children:[(0,i.jsx)("h3",{children:"Contract status"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Contract:"}),(0,i.jsx)("a",{href:"#",children:X(t.address)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Energy:"}),(0,i.jsx)("span",{children:Y(t.faucetBalance)}),(0,i.jsx)("button",{onClick:function(){n("/admin/addenergy/factory")},children:"Add"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Tokens:"}),(0,i.jsx)("span",{children:Y(t.tokenBalance,t.tokenDecimals)}),(0,i.jsx)("em",{children:t.tokenSymbol}),(0,i.jsx)("button",{onClick:function(){n("/admin/addtokens/factory")},children:"Add"})]})]}),(0,i.jsxs)("div",{className:"cart",children:[(0,i.jsx)("h3",{children:"Backend"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Claimer:"}),(0,i.jsx)("span",{children:Y(s)}),(0,i.jsx)("button",{onClick:function(){n("/admin/addenergy/claimer")},children:"Add"})]}),(0,i.jsx)("h3",{children:"Bridge energy"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"QRCode chain:"}),(0,i.jsx)("span",{children:Y(r)}),(0,i.jsx)("button",{onClick:function(){n("/admin/addenergy/bridge_qrcode")},children:"Add"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Mainnet chain:"}),(0,i.jsx)("span",{children:Y(d)}),(0,i.jsx)("button",{onClick:function(){n("/admin/addenergy/bridge_mainnet")},children:"Add"})]}),(0,i.jsx)("h3",{children:"Bridge token"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"QRCode chain:"}),(0,i.jsx)("span",{children:Y(c,o)}),(0,i.jsx)("em",{children:l}),(0,i.jsx)("button",{onClick:function(){n("/admin/bridge/withdraw/qrcode")},children:"Withdraw"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Mainnet chain:"}),(0,i.jsx)("span",{children:Y(u,m)}),(0,i.jsx)("em",{children:p}),(0,i.jsx)("button",{onClick:function(){n("/admin/addtokens/bridge_mainnet")},children:"Add"}),(0,i.jsx)("button",{onClick:function(){n("/admin/bridge/withdraw/mainnet")},children:"Withdraw"})]})]}),(0,i.jsxs)("div",{className:"cart",children:[(0,i.jsx)("h3",{children:"QR Codes"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Codes minted:"}),(0,i.jsx)("span",{children:t.totalMinted})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Codes claimed:"}),(0,i.jsx)("span",{children:t.totalClaimed})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Minted amount:"}),(0,i.jsx)("span",{children:Y(t.totalMintedAmount,t.tokenDecimals)}),(0,i.jsx)("em",{children:t.tokenSymbol})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Claimed amount:"}),(0,i.jsx)("span",{children:Y(t.totalClaimedAmount,t.tokenDecimals)}),(0,i.jsx)("em",{children:t.tokenSymbol})]})]}),(0,i.jsxs)("div",{className:"cart",children:[(0,i.jsx)("h3",{children:"Managers"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Count:"}),(0,i.jsx)("span",{children:t.managersCount}),(0,i.jsx)("a",{href:"#/admin/managers/",children:"Manage"})]})]}),(0,i.jsxs)("div",{className:"cart",children:[(0,i.jsx)("h3",{children:"Minters"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Count:"}),(0,i.jsx)("span",{children:t.mintersCount}),(0,i.jsx)("a",{href:"#/admin/minters/",children:"Manage"})]})]}),(0,i.jsxs)("div",{className:"cart",children:[(0,i.jsx)("h3",{children:"Claimers"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Count:"}),(0,i.jsx)("span",{children:t.claimersCount}),(0,i.jsx)("a",{href:"#/admin/claimers/0",children:"Manage"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Banned:"}),(0,i.jsx)("span",{children:t.claimersBannedCount}),(0,i.jsx)("a",{href:"#/admin/claimers/banned/0",children:"Manage"})]})]})]})]})}var J=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(n).forEach((function(t){e=e.replaceAll("{".concat(t,"}"),n[t])})),e},$=function(e){return function(n,t,a){return J(n,t,a?"".concat(e,"_").concat(a):e)}},ee=t(47568),ne=t(97582),te=function(e){return new Promise((function(n,t){var a=e.account,i=e.to,s=e.weiAmount,r=e.onTrx||function(){},c=e.onSuccess||function(){},o=e.onError||function(){},l=e.onFinally||function(){};a.connector.getProvider().then(function(){var e=(0,ee.Z)((function(e){var d,u,m,p,h,y;return(0,ne.__generator)(this,(function(f){switch(f.label){case 0:return d=a.address,[4,(u=new(w())(e)).eth.getGasPrice()];case 1:return m=f.sent(),p={from:w().utils.toChecksumAddress(d),to:i.trim(),gasPrice:m,value:w().utils.toHex(s)},[4,u.eth.estimateGas(p)];case 2:return h=f.sent(),1.05,y=new V.O(new V.O(h).multipliedBy(1.05).toFixed(0)).toString(16),p.gas="0x".concat(y),u.eth.sendTransaction(p).on("transactionHash",(function(e){console.log("transaction hash:",e),r(e)})).on("error",(function(e){console.log("transaction error:",e),o(e),t(e)})).on("receipt",(function(e){console.log("transaction receipt:",e),c(e)})).then((function(e){n(e),l(e)})),[2]}}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log(">>> sendEther",e),t(e)}))}))};function ae(e){var n=e.gotoPage,t=e.params.target,a=e.render404,r=e.factoryStatus,c=e.UpdateFactoryStatus,o=e.UpdateBackendStatus,l={factory:r.address,claimer:P,bridge_qrcode:R,bridge_mainnet:R},d={factory:I,claimer:I,bridge_qrcode:I,bridge_mainnet:5},u={factory:"QRFactory",claimer:"BackEnd Claimer",bridge_qrcode:"Bridge QRCode-chain",bridge_mainnet:"Bridge Mainnet-chain"};if(!l[t])return a();var p=(0,m.mA)().address,h=(0,m.mA)(),y=(0,m.LN)().chain,f=(0,m.g0)().switchNetwork,g=(0,s.useState)(!1),x=g[0],b=g[1],j=(0,s.useState)(0),v=j[0],w=j[1],T=(0,s.useState)(!0),C=T[0],k=T[1],A=(0,s.useState)(!1),S=A[0],N=A[1];(0,s.useEffect)((function(){k(!0),N(!1),_({address:p,chainId:d[t]}).then((function(e){w(e),k(!1),N(!1)})).catch((function(e){N(!0),k(!1),console.log(">> err",e)}))}),[p]);var M=(0,s.useState)(0),F=M[0],E=M[1],B=(0,s.useState)(""),D=B[0],O=B[1],H=(0,s.useState)(0),Q=H[0],W=H[1],q=(0,s.useState)(!0),Z=q[0],L=q[1],G=(0,s.useState)(!1),U=(G[0],G[1]),X=(0,s.useState)(!1),K=X[0],$=X[1],ee=(0,s.useState)(!1),ne=ee[0],ae=ee[1];(0,s.useEffect)((function(){l[t]&&(L(!0),$(!1),_({address:l[t],chainId:d[t]}).then((function(e){console.log(">>> ",t,e),W(e),L(!1),U(!0)})).catch((function(e){$(!0),L(!1)})))}),[t]),(0,s.useEffect)((function(){O("")}),[F]);var ie=!C&&!S&&!Z&&!K;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Add energy"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/",children:"[Back]"})}),(0,i.jsx)("div",{children:x?(0,i.jsxs)("div",{className:"adminForm",children:[(0,i.jsx)("header",{children:J("Add energy to {name} contract",{name:u[t]})}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("strong",{children:F})," ",J("Energy successfull added")]}),(0,i.jsx)("div",{className:"buttonsHolder",children:(0,i.jsx)("button",{onClick:function(){n("/admin/")},className:"isGreen",children:J("Go back")})})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"adminForm",children:[(0,i.jsx)("header",{children:J("Add energy to {name} contract",{name:u[t]})}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:J("Energy on {name} contract",{name:u[t]})}),(0,i.jsx)("div",{className:"infoRow ".concat(K?"hasError":""),children:K?(0,i.jsx)(i.Fragment,{children:J("Fail fetch energy at {name}",{name:u[t]})}):(0,i.jsx)(i.Fragment,{children:Z?J("Fetching balance"):Y(Q)})})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:J("Your aviabled energy")}),(0,i.jsx)("div",{className:"infoRow ".concat(S?"hasError":""),children:S?(0,i.jsx)(i.Fragment,{children:J("Fail fetch active account balance")}):(0,i.jsx)(i.Fragment,{children:C?J("Fetching balance"):Y(v)})})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{className:"required",children:J("Energy amount")}),(0,i.jsx)("input",{type:"number",value:F,className:""!==D?"hasError":"",onChange:function(e){E(e.target.value)}}),""!=D&&(0,i.jsx)("div",{className:"error",children:D})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[d[t]!=y.id?(0,i.jsx)("button",{onClick:function(){f(d[t])},children:J("Switch network")}):(0,i.jsx)("button",{onClick:function(){var e=z(F);return new V.Z(e).isLessThanOrEqualTo(0)?O(J("Amount must be greater than zero")):new V.Z(e).isGreaterThan(v)?O(J("Amount is greater than your aviable balance")):(ae(!0),void te({account:h,to:l[t],weiAmount:e}).then((function(e){console.log(">> answer",e),b(!0),ae(!1),c(),o()})).catch((function(e){ae(!1),console.log(">> err",e)})))},disabled:!ie||ne,children:J(ne?"Adding energy":"Add energy")}),(0,i.jsx)("button",{disabled:ne,onClick:function(){n("/admin/")},className:"isCancel",children:J("Cancel")})]})]})})})]})}var ie=t(64914),se=t.n(ie),re=function(e){var n=e.wallet,t=e.tokenAddress,a=e.chainId;return new Promise((function(e,i){var s=b(a),r=new(new(w())(s).eth.Contract)(se(),t);r.methods.symbol().call().then((function(s){r.methods.decimals().call().then((function(c){r.methods.balanceOf(n).call().then((function(i){var r=Y(i,c);e({wallet:n,tokenAddress:t,chainId:a,decimals:c,wei:i,normalized:r,symbol:s})})).catch((function(e){i(e)}))})).catch((function(e){i(e)}))})).catch((function(e){i(e)}))}))},ce=t(10797),oe=function(){var e=(0,ee.Z)((function(e,n,t,a,i){var s,r,c,o;return(0,ne.__generator)(this,(function(l){switch(l.label){case 0:return r={from:e,gas:"0"},i&&(r.value=new V.O(i)),[4,(s=n.methods)[t].apply(s,(0,ce.Z)(a)).estimateGas(r)];case 1:return c=l.sent(),o=new V.O(new V.O(c).multipliedBy(1.15).toFixed(0)).toString(16),r.gas="0x"+o,[2,r]}}))}));return function(n,t,a,i,s){return e.apply(this,arguments)}}(),le=function(e){return new Promise((function(n,t){var a=e.account,i=e.tokenAddress,s=e.to,r=e.weiAmount,c=e.onTrx||function(){},o=e.onSuccess||function(){},l=e.onError||function(){},d=e.onFinally||function(){};a.connector.getProvider().then(function(){var e=(0,ee.Z)((function(e){var u,m,p,h,y,f,g,x;return(0,ne.__generator)(this,(function(b){switch(b.label){case 0:return m="transfer",p=[s,r],h=a.address,y=new(w())(e),f=new y.eth.Contract(se(),i),[4,oe(h,f,m,p,0)];case 1:return g=b.sent(),[4,y.eth.getGasPrice()];case 2:return x=b.sent(),g.gasPrice=x,(u=f.methods)[m].apply(u,(0,ce.Z)(p||[])).send(g).on("transactionHash",(function(e){console.log("transaction hash:",e),c(e)})).on("error",(function(e){console.log("transaction error:",e),l(e),t(e)})).on("receipt",(function(e){console.log("transaction receipt:",e),o(e)})).then((function(e){n(e),d(e)})),[2]}}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log(">>> sendERC20",e),t(e)}))}))};function de(e){var n=e.gotoPage,t=e.params.target,a=e.render404,r=e.factoryStatus,c=e.UpdateFactoryStatus,o=e.UpdateBackendStatus,l={factory:r.address,bridge_mainnet:O},d={factory:I,bridge_mainnet:5},u={factory:"QRFactory",bridge_mainnet:"Bridge Mainnet-chain"},p={factory:r.tokenAddress,bridge_mainnet:E};if(!l[t])return a();var h=(0,m.mA)().address,y=(0,m.mA)(),f=(0,m.LN)().chain,g=(0,m.g0)().switchNetwork,x=(0,s.useState)(!1),b=x[0],j=x[1],v=(0,s.useState)(0),w=v[0],T=v[1],C=(0,s.useState)(!0),k=C[0],A=C[1],S=(0,s.useState)(!1),N=S[0],M=S[1],F=(0,s.useState)({}),_=F[0],B=F[1],P=(0,s.useState)(!0),R=P[0],D=P[1],H=(0,s.useState)(!1),Q=H[0],W=H[1];(0,s.useEffect)((function(){D(!0),W(!1),re({wallet:l[t],tokenAddress:p[t],chainId:d[t]}).then((function(e){console.log(">> balance on contract",t,e),B(e),D(!1),W(!1)})).catch((function(e){D(!1),W(!0),console.log(">> err",e)}))}),[t]),(0,s.useEffect)((function(){h&&r&&r.tokenAddress&&(A(!0),M(!1),re({wallet:h,tokenAddress:p[t],chainId:d[t]}).then((function(e){T(e.wei),A(!1),M(!1)})).catch((function(e){M(!0),A(!1),console.log(">> err",e)})))}),[h,r]);var q=(0,s.useState)(0),Z=q[0],L=q[1],G=(0,s.useState)(""),U=G[0],X=G[1],K=(0,s.useState)(!1),$=K[0],ee=K[1];(0,s.useEffect)((function(){X("")}),[Z]);var ne=!k&&!N;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Add tokens"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/",children:"[Back]"})}),(0,i.jsx)("div",{children:b?(0,i.jsxs)("div",{className:"adminForm",children:[(0,i.jsx)("header",{children:J("Add tokens to {name} contract",{name:u[t]})}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("strong",{children:Z})," ",(0,i.jsx)("strong",{children:_.symbol})," ",J("tokens successfull added to contract")]}),(0,i.jsx)("div",{className:"buttonsHolder",children:(0,i.jsx)("button",{onClick:function(){n("/admin/")},className:"isGreen",children:J("Go back")})})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"adminForm ".concat(k||R?"isLoading":""),children:[(0,i.jsx)("header",{children:J("Add tokens to {name} contract",{name:u[t]})}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:J("Tokens on {name} contract",{name:u[t]})}),(0,i.jsx)("div",{className:"infoRow",children:Q?(0,i.jsx)(i.Fragment,{children:J("Fail fetch contract balance")}):(0,i.jsx)(i.Fragment,{children:R?J("Fetching balance"):(0,i.jsxs)(i.Fragment,{children:[Y(_.wei,_.decimals)," ",(0,i.jsx)("strong",{children:_.symbol})]})})})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:J("Your aviabled tokens")}),(0,i.jsx)("div",{className:"infoRow ".concat(N?"hasError":""),children:N||Q?(0,i.jsx)(i.Fragment,{children:J("Fail fetch active account balance")}):(0,i.jsx)(i.Fragment,{children:k||R?J("Fetching balance"):(0,i.jsxs)(i.Fragment,{children:[Y(w,_.decimals)," ",(0,i.jsx)("strong",{children:_.symbol})]})})})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{className:"required",children:J("Tokens amount for add")}),(0,i.jsx)("input",{type:"number",value:Z,className:""!==U?"hasError":"",onChange:function(e){L(e.target.value)}}),""!=U&&(0,i.jsx)("div",{className:"error",children:U})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[d[t]!=f.id?(0,i.jsx)("button",{onClick:function(){g(d[t])},children:J("Switch network")}):(0,i.jsx)("button",{onClick:function(){var e=z(Z,_.decimals);return new V.Z(e).isLessThanOrEqualTo(0)?X(J("Amount must be greater than zero")):new V.Z(e).isGreaterThan(w)?X(J("Amount is greater than your aviable token balance")):(ee(!0),void le({account:y,tokenAddress:p[t],to:l[t],weiAmount:e}).then((function(e){console.log(">> answer",e),j(!0),ee(!1),c(),o()})).catch((function(e){ee(!1),console.log(">err",e)})))},disabled:!ne||$,children:J($?"Adding tokens to contract":"Add tokens to contract")}),(0,i.jsx)("button",{disabled:$,onClick:function(){n("/admin/")},className:"isCancel",children:J("Cancel")})]})]})})})]})}var ue=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"qrcode","type":"address"}],"name":"QrCodeMinted","type":"event"},{"inputs":[{"internalType":"address","name":"claimer","type":"address"},{"internalType":"string","name":"why","type":"string"}],"name":"addClaimerBan","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"minter","type":"address"},{"internalType":"string","name":"name","type":"string"}],"name":"addMinter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"minter","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"addMinterBalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"bannedClaimersWhen","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"bannedClaimersWho","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"bannedClaimersWhy","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"claimer","type":"address"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimedByMinter","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimedFaucetUsed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"claimedQrCodes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimedQrCodesCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"codeTL","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"claimer","type":"address"}],"name":"delClaimerBan","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"faucetAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getAddressNativeBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getAddressTokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAllQrCodes","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"minter","type":"address"},{"internalType":"address","name":"claimer","type":"address"},{"internalType":"uint256","name":"minted_at","type":"uint256"},{"internalType":"uint256","name":"claimed_at","type":"uint256"},{"internalType":"uint256","name":"timelife","type":"uint256"},{"internalType":"address","name":"router","type":"address"},{"internalType":"string","name":"message","type":"string"}],"internalType":"struct QRCodeFactory.QRCODE[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getBannedClaimers","outputs":[{"components":[{"internalType":"address","name":"claimer","type":"address"},{"internalType":"address","name":"who","type":"address"},{"internalType":"string","name":"why","type":"string"},{"internalType":"uint256","name":"when","type":"uint256"}],"internalType":"struct QRCodeFactory.BannedClaimer[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBannedClaimersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"claimer","type":"address"},{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getClaimedQrCodes","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"minter","type":"address"},{"internalType":"address","name":"claimer","type":"address"},{"internalType":"uint256","name":"minted_at","type":"uint256"},{"internalType":"uint256","name":"claimed_at","type":"uint256"},{"internalType":"uint256","name":"timelife","type":"uint256"},{"internalType":"address","name":"router","type":"address"},{"internalType":"string","name":"message","type":"string"}],"internalType":"struct QRCodeFactory.QRCODE[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"claimer","type":"address"}],"name":"getClaimerInfo","outputs":[{"components":[{"internalType":"address","name":"claimerAddress","type":"address"},{"internalType":"uint256","name":"claimedAmount","type":"uint256"},{"internalType":"uint256[]","name":"claimedQrCodes","type":"uint256[]"},{"internalType":"uint256","name":"claimedQrCodesCount","type":"uint256"},{"internalType":"uint256","name":"faucetUsed","type":"uint256"},{"internalType":"bool","name":"isBanned","type":"bool"}],"internalType":"struct QRCodeFactory.ClaimerInfo","name":"ret","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getClaimers","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getClaimersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getClaimersInfo","outputs":[{"components":[{"internalType":"address","name":"claimerAddress","type":"address"},{"internalType":"uint256","name":"claimedAmount","type":"uint256"},{"internalType":"uint256[]","name":"claimedQrCodes","type":"uint256[]"},{"internalType":"uint256","name":"claimedQrCodesCount","type":"uint256"},{"internalType":"uint256","name":"faucetUsed","type":"uint256"},{"internalType":"bool","name":"isBanned","type":"bool"}],"internalType":"struct QRCodeFactory.ClaimerInfo[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFaucetBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"check","type":"address"}],"name":"getIsManager","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"check","type":"address"}],"name":"getIsMinter","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getManagers","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getManagersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"minter","type":"address"}],"name":"getMinterInfo","outputs":[{"components":[{"internalType":"address","name":"minterAddress","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"mintedAmount","type":"uint256"},{"internalType":"uint256","name":"claimedAmount","type":"uint256"},{"internalType":"uint256[]","name":"mintedQrCodes","type":"uint256[]"},{"internalType":"uint256","name":"mintedQrCodesCount","type":"uint256"},{"internalType":"uint256","name":"balance","type":"uint256"}],"internalType":"struct QRCodeFactory.MinterInfo","name":"ret","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"minter","type":"address"},{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getMinterQrCodes","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"minter","type":"address"},{"internalType":"address","name":"claimer","type":"address"},{"internalType":"uint256","name":"minted_at","type":"uint256"},{"internalType":"uint256","name":"claimed_at","type":"uint256"},{"internalType":"uint256","name":"timelife","type":"uint256"},{"internalType":"address","name":"router","type":"address"},{"internalType":"string","name":"message","type":"string"}],"internalType":"struct QRCodeFactory.QRCODE[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMinters","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMintersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMintersInfo","outputs":[{"components":[{"internalType":"address","name":"minterAddress","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"mintedAmount","type":"uint256"},{"internalType":"uint256","name":"claimedAmount","type":"uint256"},{"internalType":"uint256[]","name":"mintedQrCodes","type":"uint256[]"},{"internalType":"uint256","name":"mintedQrCodesCount","type":"uint256"},{"internalType":"uint256","name":"balance","type":"uint256"}],"internalType":"struct QRCodeFactory.MinterInfo[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getQrCode","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"minter","type":"address"},{"internalType":"address","name":"claimer","type":"address"},{"internalType":"uint256","name":"minted_at","type":"uint256"},{"internalType":"uint256","name":"claimed_at","type":"uint256"},{"internalType":"uint256","name":"timelife","type":"uint256"},{"internalType":"address","name":"router","type":"address"},{"internalType":"string","name":"message","type":"string"}],"internalType":"struct QRCodeFactory.QRCODE","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"router","type":"address"}],"name":"getQrCodeByAddress","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"minter","type":"address"},{"internalType":"address","name":"claimer","type":"address"},{"internalType":"uint256","name":"minted_at","type":"uint256"},{"internalType":"uint256","name":"claimed_at","type":"uint256"},{"internalType":"uint256","name":"timelife","type":"uint256"},{"internalType":"address","name":"router","type":"address"},{"internalType":"string","name":"message","type":"string"}],"internalType":"struct QRCodeFactory.QRCODE","name":"ret","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenDecimals","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenSymbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"router","type":"address"}],"name":"isQrCodeClaimed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxMintAmountPerQrCodeGlobal","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_timelife","type":"uint256"},{"internalType":"string","name":"_message","type":"string"}],"name":"mint","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"mintedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"mintedQrCodes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"mintedQrCodesCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"mintersName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"qrCodes","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"minter","type":"address"},{"internalType":"address","name":"claimer","type":"address"},{"internalType":"uint256","name":"minted_at","type":"uint256"},{"internalType":"uint256","name":"claimed_at","type":"uint256"},{"internalType":"uint256","name":"timelife","type":"uint256"},{"internalType":"address","name":"router","type":"address"},{"internalType":"string","name":"message","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"qrCodesLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"qrCodesRouters","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_codeTL","type":"uint256"}],"name":"setCodeTL","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_faucetAmount","type":"uint256"}],"name":"setFaucetAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"},{"internalType":"bool","name":"isManager","type":"bool"}],"name":"setIsManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"},{"internalType":"bool","name":"isMinter","type":"bool"}],"name":"setIsMinter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"minter","type":"address"},{"internalType":"uint256","name":"newLimit","type":"uint256"}],"name":"setMaxMintAmountPerQrCode","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newLimit","type":"uint256"}],"name":"setMaxMintAmountPerQrCodeGlobal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"minter","type":"address"},{"internalType":"uint256","name":"newBalance","type":"uint256"}],"name":"setMinterBalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"minter","type":"address"},{"internalType":"string","name":"name","type":"string"}],"name":"setMinterName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"tokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalClaimedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalFaucetAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalMintedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalQrCodesClaimed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]}'),me=t(30594),pe=function(e){var n=(0,a.Z)({onErrorDelay:100,onErrorRetry:1,chunkSize:100,chunkDelay:100,onFetching:function(e,n){}},e),t=n.args,i=n.chunkSize,s=n.func,r=n.onFetching,c=n.chunkDelay,o=n.onErrorDelay,l=n.onErrorRetry,d=function(e){return new Promise((function(n){window.setTimeout((function(){n()}),e)}))};return new Promise(function(){var e=(0,ee.Z)((function(e,n){var a,u,m;return(0,ne.__generator)(this,(function(p){switch(p.label){case 0:a=function(e){var a,m,p,h;return(0,ne.__generator)(this,(function(y){switch(y.label){case 0:a=function(){var n=(0,ee.Z)((function(){var n,a,o;return(0,ne.__generator)(this,(function(l){switch(l.label){case 0:return a=t.slice(e,e+i),[4,s(a,e)];case 1:return o=l.sent(),(n=u).push.apply(n,(0,ce.Z)(o)),r(e,t.length),[4,d(c)];case 2:return l.sent(),[2]}}))}));return function(){return n.apply(this,arguments)}}(),y.label=1;case 1:return y.trys.push([1,3,,11]),[4,a()];case 2:return y.sent(),[3,11];case 3:m=y.sent(),p=!1,h=0,y.label=4;case 4:if(!(h<l))return[3,10];y.label=5;case 5:return y.trys.push([5,8,,9]),[4,d(o)];case 6:return y.sent(),[4,a()];case 7:return y.sent(),p=!0,[3,10];case 8:return y.sent(),[3,9];case 9:return h++,[3,4];case 10:return p?[3,11]:(n(m),[2,"break"]);case 11:return[2]}}))},u=[],m=0,p.label=1;case 1:return m<t.length?[5,(0,ne.__values)(a(m))]:[3,4];case 2:if("break"===p.sent())return[3,4];p.label=3;case 3:return m+=i,[3,1];case 4:return e(u),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}())},he=function(e){if(e&&e._isBigNumber&&(e=e.toString()),(0,h.Z)(e,Array)){var n={};return Object.keys(e).forEach((function(t){n[t]=e[t],e[t]&&e[t]._isBigNumber&&(n[t]=e[t].toString()),(0,h.Z)(e[t],Array)&&(n[t]=he(e[t]))})),n}return e},ye=function(e){var n=(0,a.Z)({chunkSize:500,onFetching:function(e,n){}},e),t=n.multicall,i=n.target,s=n.encoder,r=n.calls,c=n.chunkSize,o=n.onFetching;return new Promise((function(e,n){var a={},l=[],d=Object.keys(r).map((function(e){var n=r[e],t=n.func,a=n.args,c=n.encoder,o=n.target;return l.push(e),{target:o||i,callData:(c||s).encodeFunctionData(t,a)}}));pe({args:d,chunkSize:c,onFetching:o,func:function(){var e=(0,ee.Z)((function(e){return(0,ne.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.methods.tryAggregate(!1,e).call()];case 1:return[2,n.sent()]}}))}));return function(n){return e.apply(this,arguments)}}()}).then((function(n){n.forEach((function(e,n){if(e.success){var t=(r[l[n]].encoder||s).decodeFunctionResult(r[l[n]].func,e.returnData);t=1==t.length?t[0]:t,t=he(t),r[l[n]].asArray&&(t=Object.keys(t).map((function(e){return t[e]}))),a[l[n]]=t}else a[l[n]]=r[l[n]].default||!1})),e(a)})).catch((function(e){n(e)}))}))},fe=function(e){var n=(0,a.Z)({},e),t=n.address,i=n.chainId;return new Promise((function(e,n){var s=F(i),r=new me.vU(ue.Mt);ye({multicall:s,target:t,encoder:r,calls:{managers:{func:"getManagers",asArray:!0}}}).then((function(n){console.log(">> answer",n),e((0,a.Z)({chainId:i,address:t},n))})).catch((function(e){console.log(">> call mc err",e),n(e)}))}))};function ge(e){e.gotoPage;var n=e.factoryStatus,t=(0,s.useState)(!1),a=t[0],r=t[1],c=(0,s.useState)(!1),o=c[0],l=c[1],d=(0,s.useState)([]),u=d[0],m=d[1];return(0,s.useEffect)((function(){n&&fe({chainId:I,address:B}).then((function(e){m(e.managers),l(!0),r(!1)})).catch((function(e){l(!1),r(!1)}))}),[n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Managers"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/managers/add",children:"[Add new manager]"})}),a&&(0,i.jsx)("div",{children:"Fetching managers"}),!a&&!o&&(0,i.jsx)("div",{children:"Fail fetch managers"}),o&&(0,i.jsx)("div",{className:"adminTable",children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"#"}),(0,i.jsx)("td",{children:"Address"}),(0,i.jsx)("td",{children:"..."}),(0,i.jsx)("td",{children:"Options"})]})}),(0,i.jsx)("tbody",{children:u.length>0?(0,i.jsx)(i.Fragment,{children:u.map((function(e,n){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:n+1}),(0,i.jsx)("td",{children:(0,i.jsx)("a",{href:"#/admin/managers/info/".concat(e),children:e})}),(0,i.jsx)("td",{children:"..."}),(0,i.jsxs)("td",{children:[(0,i.jsx)("a",{href:"#/admin/managers/info/".concat(e),children:"[INFO]"}),(0,i.jsx)("a",{href:"#/admin/managers/delete/".concat(e),children:"[DELETE]"})]})]},n)}))}):(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colspan:"4",children:"No managers"})})})]})})]})}var xe=function(e){return new Promise(function(){var n=(0,ee.Z)((function(n,t){var a,i,s,r,c,o,l,d,u,m,p,h,y,f;return(0,ne.__generator)(this,(function(g){switch(g.label){case 0:return i=e.activeWallet,s=e.activeWeb3,r=e.contractAddress,c=e.method,o=e.args,l=e.weiAmount,d=e.onTrx||function(){},u=e.onSuccess||function(){},m=e.onError||function(){},p=e.onFinally||function(){},h=new s.eth.Contract(ue.Mt,r),[4,oe(i,h,c,o||[],l)];case 1:return y=g.sent(),[4,s.eth.getGasPrice()];case 2:return f=g.sent(),y.gasPrice=f,(a=h.methods)[c].apply(a,(0,ce.Z)(o||[])).send(y).on("transactionHash",(function(e){console.log("transaction hash:",e),d(e)})).on("error",(function(e){console.log("transaction error:",e),m(e),t(e)})).on("receipt",(function(e){console.log("transaction receipt:",e),u(e)})).then((function(e){n(e),p(e)})),[2]}}))}));return function(e,t){return n.apply(this,arguments)}}())},be=(0,s.createContext)({injectedWeb3:!1,injectedAccount:!1,balance:0,isBalanceFetched:!1,isBalanceFetching:!0,isConnected:!0}),je=function(){return(0,s.useContext)(be)};function ve(e){var n=e.children,t=e.chainId,a=(0,s.useState)(!1),r=a[0],c=a[1],o=(0,s.useState)(!1),l=o[0],d=o[1],u=(0,s.useState)(0),p=u[0],h=u[1],y=(0,s.useState)(!1),f=y[0],g=y[1],x=(0,s.useState)(!0),b=x[0],j=x[1],v=(0,s.useState)(!0),T=v[0],C=(v[1],(0,m.mA)().address),k=(0,m.mA)(),A=(0,s.useState)(!1),S=A[0],N=A[1];return(0,s.useEffect)((function(){S&&S.getProvider().then(function(){var e=(0,ee.Z)((function(e){var n;return(0,ne.__generator)(this,(function(t){return n=new(w())(e),c(n),[2]}))}));return function(n){return e.apply(this,arguments)}}())}),[S]),(0,s.useEffect)((function(){C&&t&&(g(!1),j(!0),_({address:C,chainId:t}).then((function(e){h(e),g(!0),j(!1)})).catch((function(e){g(!1),j(!1),console.log(">> InjectedWeb3Provider",e)})))}),[C,t]),(0,s.useEffect)((function(){k&&k.connector&&(d(k.address),N(k.connector))}),[t,k]),(0,i.jsx)(be.Provider,{value:{injectedWeb3:r,injectedAccount:l,balance:p,isBalanceFetched:f,isBalanceFetching:b,isConnected:T},children:n})}function we(e){var n=e.gotoPage,t=e.factoryStatus,a=(0,m.mA)().address,r=je(),c=r.injectedAccount,o=r.injectedWeb3,l=(0,s.useState)("0x"),d=l[0],u=l[1],p=(0,s.useState)(!1),h=p[0],y=p[1],f=(0,s.useState)(!1),g=f[0],x=f[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Managers - Add"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/managers/",children:"[Back]"})}),a.toLowerCase()==t.owner.toLowerCase()?(0,i.jsx)(i.Fragment,{children:g?(0,i.jsxs)("div",{children:[(0,i.jsxs)("h4",{children:["New manager ",d," added"]}),(0,i.jsx)("a",{href:"#/admin/managers/",children:"[Back]"})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"adminForm",children:[(0,i.jsx)("header",{children:"Add new manager"}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"Manager address:"}),(0,i.jsx)("input",{type:"text",value:d,onChange:function(e){u(e.target.value)}})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{disabled:h,onClick:function(){y(!0),xe({activeWallet:c,activeWeb3:o,contractAddress:B,method:"setIsManager",args:[d,!0]}).then((function(e){y(!1),x(!0)})).catch((function(e){x(!1),console.log(">>>",e)}))},children:h?"Addeding new manager":"Add new manager"}),(0,i.jsx)("button",{disabled:h,onClick:function(){n("/admin/managers")},className:"isCancel",children:"Cancel"})]})]})})}):(0,i.jsx)("div",{children:"Access dinied"})]})}function Te(e){e.gotoPage;var n=e.params.managerAddress;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Managers - Info"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/managers/",children:"[Back]"})}),(0,i.jsxs)("div",{children:["Info about manager ",n]})]})}function Ce(e){e.gotoPage,e.factoryStatus;var n=e.params.managerAddress,t=((0,m.mA)().address,je()),a=t.injectedAccount,r=t.injectedWeb3,c=(0,s.useState)(!1),o=c[0],l=c[1],d=(0,s.useState)(!1),u=d[0],p=d[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Managers - Info"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/managers/",children:"[Back]"})}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{children:u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:["Manager ",n," removed"]}),(0,i.jsx)("a",{href:"#/admin/managers/",children:"[Back]"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:["Confirm remove manager ",n]}),(0,i.jsx)("button",{onClick:function(){l(!0),xe({activeWallet:a,activeWeb3:r,contractAddress:B,method:"setIsManager",args:[n,!1]}).then((function(e){l(!1),p(!0)})).catch((function(e){l(!1),console.log(">>>",e)}))},disabled:o,children:"Remove this manager"})]})})})]})}var ke=function(e){var n=(0,a.Z)({},e),t=n.address,i=n.chainId;return new Promise((function(e,n){var s=F(i),r=new me.vU(ue.Mt);ye({multicall:s,target:t,encoder:r,calls:{minters:{func:"getMintersInfo",asArray:!0}}}).then((function(n){console.log(">> answer",n),e((0,a.Z)({chainId:i,address:t},n))})).catch((function(e){console.log(">> call mc err",e),n(e)}))}))};function Ae(e){e.gotoPage;var n=e.factoryStatus,t=(0,s.useState)(!1),a=t[0],r=t[1],c=(0,s.useState)(!1),o=c[0],l=c[1],d=(0,s.useState)([]),u=d[0],m=d[1];return(0,s.useEffect)((function(){n&&ke({chainId:I,address:B}).then((function(e){m(e.minters),l(!0),r(!1)})).catch((function(e){l(!1),r(!1)}))}),[n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Minters"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/minters/add",children:"[Add new minter]"})}),a&&(0,i.jsx)("div",{children:"Fetching minters"}),!a&&!o&&(0,i.jsx)("div",{children:"Fail fetch minters"}),o&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"adminTable",children:(0,i.jsxs)("table",{children:[(0,i.jsxs)("thead",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{rowSpan:"2",children:"#"}),(0,i.jsx)("td",{rowSpan:"2",children:"Name / Address"}),(0,i.jsx)("td",{colSpan:"3",children:n.tokenSymbol}),(0,i.jsx)("td",{rowSpan:"2",children:"Minted QRCodes"}),(0,i.jsx)("td",{rowSpan:"2",children:"Options"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Balance"}),(0,i.jsx)("td",{children:"Minted"}),(0,i.jsx)("td",{children:"Claimed"})]})]}),(0,i.jsx)("tbody",{children:u.length>0?(0,i.jsx)(i.Fragment,{children:u.map((function(e,t){var a=e.minterAddress,s=e.name,r=e.mintedAmount,c=e.claimedAmount,o=e.mintedQrCodesCount,l=e.balance;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:t+1}),(0,i.jsxs)("td",{children:[(0,i.jsx)("div",{children:(0,i.jsx)("strong",{children:s})}),(0,i.jsx)("a",{href:"#/admin/minters/info/".concat(a),children:a})]}),(0,i.jsx)("td",{children:Y(l,n.tokenDecimals)}),(0,i.jsx)("td",{children:Y(r,n.tokenDecimals)}),(0,i.jsx)("td",{children:Y(c,n.tokenDecimals)}),(0,i.jsx)("td",{children:(0,i.jsx)("a",{href:"#/admin/minters/qrcodes/".concat(a,"/0"),children:o})}),(0,i.jsxs)("td",{children:[(0,i.jsx)("a",{href:"#/admin/minters/info/".concat(a),children:"[INFO]"}),(0,i.jsx)("a",{href:"#/admin/minters/delete/".concat(a),children:"[DELETE]"})]})]},t)}))}):(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:"6",children:"No managers"})})})]})})})]})}function Se(e){var n=e.gotoPage,t=e.factoryStatus,a=((0,m.mA)().address,je()),r=a.injectedAccount,c=a.injectedWeb3,o=(0,s.useState)("0x"),l=o[0],d=o[1],u=(0,s.useState)(""),p=u[0],h=u[1],y=(0,s.useState)(!1),f=y[0],g=y[1],x=(0,s.useState)(!1),b=x[0],j=x[1];console.log(">>> factoryStatus",t),window.factoryStatus=t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Minters - Add"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/minters/",children:"[Back]"})}),(0,i.jsx)(i.Fragment,{children:b?(0,i.jsxs)("div",{children:[(0,i.jsxs)("h4",{children:["New manager ",l," (",p,") added"]}),(0,i.jsx)("a",{href:"#/admin/minters/",children:"[Back]"})]}):(0,i.jsxs)("div",{className:"adminForm ".concat(f?"isLoading":""),children:[(0,i.jsx)("header",{children:"Add new minter"}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{className:"required",children:J("Minter address")}),(0,i.jsx)("input",{type:"text",value:l,onChange:function(e){d(e.target.value)}})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"Minter name:"}),(0,i.jsx)("input",{type:"text",value:p,onChange:function(e){h(e.target.value)}})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{disabled:f,onClick:function(){g(!0),xe({activeWallet:r,activeWeb3:c,contractAddress:B,method:"addMinter",args:[l,p]}).then((function(e){g(!1),j(!0)})).catch((function(e){j(!1),console.log(">>>",e)}))},children:J(f?"Addeding new minter":"Add new minters")}),(0,i.jsx)("button",{className:"isCancel",disabled:f,onClick:function(){n("/admin/minters/")},children:J("Cancel")})]})]})})]})}function Ne(e){e.gotoPage,e.factoryStatus;var n=e.params.minterAddress,t=((0,m.mA)().address,je()),a=t.injectedAccount,r=t.injectedWeb3,c=(0,s.useState)(!1),o=c[0],l=c[1],d=(0,s.useState)(!1),u=d[0],p=d[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Minters - Info"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/minters/",children:"[Back]"})}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{children:u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:["Minter ",n," removed"]}),(0,i.jsx)("a",{href:"#/admin/minters/",children:"[Back]"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:["Confirm remove minter ",n]}),(0,i.jsx)("button",{onClick:function(){l(!0),xe({activeWallet:a,activeWeb3:r,contractAddress:B,method:"setIsMinter",args:[n,!1]}).then((function(e){l(!1),p(!0)})).catch((function(e){l(!1),console.log(">>>",e)}))},disabled:o,children:"Remove this minter"})]})})})]})}var Me=function(e){var n=(0,a.Z)({},e),t=n.address,i=n.chainId,s=n.minter,r=n.offset,c=n.limit;return new Promise((function(e,n){var o=F(i),l=new me.vU(ue.Mt);ye({multicall:o,target:t,encoder:l,calls:{qrcodes:{func:"getMinterQrCodes",args:[s,r,c],asArray:!0},totalCount:{func:"mintedQrCodesCount",args:[s]}}}).then((function(n){console.log(">> answer",n),e((0,a.Z)({chainId:i,address:t,minter:s,offset:r,limit:c},n))})).catch((function(e){console.log(">> call mc err",e),n(e)}))}))},Fe=function(e){var n=new Date(1e3*Number(e));return"".concat(n.getDate(),"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()," ").concat(n.getHours(),":").concat(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),":").concat(n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds())};function _e(e){var n=$("PAGINATOR"),t=e.page,a=e.totalItems,s=e.perPage,r=e.href,c=Number(t),o=Math.ceil(a/s),l=function(e){return(0,i.jsx)("a",{href:r.replace("{page}",e),className:e==c?"active":"",children:e+1})};return o>1?(0,i.jsxs)("div",{className:"adminPaginator",children:[(0,i.jsx)("style",{children:"\n          .adminPaginator {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding-left: 1em;\n            padding-right: 1em;\n          }\n          .adminPaginator .pages {\n            display: flex;\n            border: 1px solid #cacaca;\n            border-radius: 5px;\n            background: #fff;\n          }\n          .adminPaginator .pages A,\n          .adminPaginator .pages SPAN {\n            border-left: 1px solid #838383;\n            display: block;\n            height: 2em;\n            padding-left: 0.75em;\n            padding-right: 0.75em;\n            font-size: 12pt;\n            font-weight: bold;\n            text-decoration: none;\n            text-align: center;\n            vertical-align: middle;\n            line-height: 2em;\n            color: #111827;\n          }\n          .adminPaginator .pages A:hover {\n            background: #f9fafb;\n          }\n          .adminPaginator .pages A.active {\n            background: #4f46e5;\n            color: #FFF;\n          }\n          .adminPaginator .pages A:first-child {\n            border-left: none;\n            border-top-left-radius: 5px;\n            border-bottom-left-radius: 5px;\n          }\n          .adminPaginator .pages A:last-child {\n            border-top-right-radius: 5px;\n            border-bottom-right-radius: 5px;\n          }\n          .adminPaginator .pageInfo {\n            font-size: 0.9em;\n            color: #111827;\n          }\n        "}),(0,i.jsx)("div",{className:"pageInfo",children:n("Showing {from} to {to} of {total} results",{from:c*s+1,to:c*s+s>a?a:c*s+s,total:a})}),(0,i.jsx)("div",{className:"pages",children:o>10?(0,i.jsxs)(i.Fragment,{children:[Array.apply(null,Array(c>=4?2:6)).map((function(e,n){return l(n)})),c>=4&&c<=o-6?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"..."}),l(c-1),l(c),l(c+1),c<o-5&&(0,i.jsx)("span",{children:"..."})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{children:"..."})}),(0,i.jsxs)(i.Fragment,{children:[c>o-6&&(0,i.jsx)(i.Fragment,{children:l(o-6)}),c>o-6&&(0,i.jsx)(i.Fragment,{children:l(o-5)}),c>o-6&&(0,i.jsx)(i.Fragment,{children:l(o-4)}),c>o-6&&(0,i.jsx)(i.Fragment,{children:l(o-3)}),l(o-2),l(o-1)]})]}):(0,i.jsx)(i.Fragment,{children:Array.apply(null,Array(o)).map((function(){})).map((function(e,n){return l(n)}))})})]}):null}var Ie=$("MINTER_QRCODES");function Ee(e){e.gotoPage;var n=e.factoryStatus,t=e.params,a=t.minterAddress,r=t.page,c=(0,s.useState)(0),o=(c[0],c[1]),l=(0,s.useState)([]),d=l[0],u=l[1],m=(0,s.useState)(!1),p=m[0],h=m[1],y=(0,s.useState)(0),f=y[0],g=y[1];return(0,s.useEffect)((function(){n&&a&&(h(!0),Me({address:B,chainId:I,minter:a,offset:10*r,limit:10}).then((function(e){console.log(">>> answer",e),u(e.qrcodes),g(e.totalCount),h(!1),o(Math.ceil(e.totalCount/10))})).catch((function(e){console.log(">>> fail",e),h(!1)})))}),[n,a,r]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Minters - QrCodes"}),(0,i.jsx)("nav",{children:(0,i.jsx)("span",{children:"---"})}),(0,i.jsx)("div",{className:"adminTable ".concat(p?"isLoading":""),children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:Ie("ID")}),(0,i.jsx)("td",{children:Ie("Amount {tokenSymbol}",{tokenSymbol:n.tokenSymbol})}),(0,i.jsx)("td",{children:Ie("Minted At")}),(0,i.jsx)("td",{children:Ie("Status")}),(0,i.jsx)("td",{children:Ie("Message")}),(0,i.jsx)("td",{})]})}),(0,i.jsx)("tbody",{children:d.length>0?(0,i.jsx)(i.Fragment,{children:d.map((function(e,t){var a=e.id,s=e.amount,r=e.claimed_at,c=e.claimer,o=e.message,l=e.minted_at,d=(e.minter,e.router),u=e.timelife;return(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:[(0,i.jsx)("span",{children:a}),(0,i.jsx)("div",{children:X(d)})]}),(0,i.jsx)("td",{children:Y(s,n.tokenDecimals)}),(0,i.jsx)("td",{children:Fe(l)}),(0,i.jsx)("td",{children:"0"!=r?(0,i.jsx)("a",{href:"#/admin/claimers/info/".concat(c),children:Ie("Claimed by {claimer}",{claimer:X(c)})}):(0,i.jsx)(i.Fragment,{children:new Date(1e3*(Number(l)+Number(u)))<new Date?(0,i.jsx)("div",{children:Ie("Expired")}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:Ie("Valid")}),(0,i.jsx)("div",{children:Fe(Number(l)+Number(u))})]})})}),(0,i.jsx)("td",{children:o}),(0,i.jsx)("td",{})]},t)}))}):(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:"6",align:"center",children:Ie("empty")})})})]})}),(0,i.jsx)(_e,{totalItems:f,perPage:10,page:r,href:"#/admin//minters/qrcodes/".concat(a,"/{page}")})]})}var Be=function(e){var n=(0,a.Z)({},e),t=n.address,i=n.chainId,s=n.offset,r=n.limit;return new Promise((function(e,n){var c=F(i),o=new me.vU(ue.Mt);ye({multicall:c,target:t,encoder:o,calls:{claimers:{func:"getClaimersInfo",args:[s,r],asArray:!0},totalCount:{func:"getClaimersCount"}}}).then((function(n){console.log(">> answer",n),e((0,a.Z)({chainId:i,address:t,offset:s,limit:r},n))})).catch((function(e){console.log(">> call mc err",e),n(e)}))}))},Pe=$("CLAIMERS");function Re(e){e.gotoPage;var n=e.factoryStatus,t=e.params.page,a=(0,s.useState)(!1),r=a[0],c=a[1],o=(0,s.useState)([]),l=o[0],d=o[1],u=(0,s.useState)(0),m=u[0],p=u[1];return(0,s.useEffect)((function(){n&&(c(!0),Be({address:B,chainId:I,offset:10*t,limit:10}).then((function(e){console.log(">>> answer",e),d(e.claimers),p(e.totalCount),c(!1)})).catch((function(e){console.log(">>> err",e),c(!1)})))}),[n,t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Claimers "}),(0,i.jsx)("nav",{children:(0,i.jsx)("span",{children:"---"})}),(0,i.jsx)("div",{className:"adminTable ".concat(r?"isLoading":""),children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:Pe("Address")}),(0,i.jsx)("td",{children:Pe("Claimed amount {tokenSymbol}",{tokenSymbol:n.tokenSymbol})}),(0,i.jsx)("td",{children:Pe("Calimed QR-Codes")}),(0,i.jsx)("td",{children:Pe("Energy")}),(0,i.jsx)("td",{children:Pe("Is banned")}),(0,i.jsx)("td",{})]})}),(0,i.jsx)("tbody",{children:l.length>0?(0,i.jsx)(i.Fragment,{children:l.map((function(e,t){var a=e.claimerAddress,s=e.claimedAmount,r=e.claimedQrCodesCount,c=e.faucetUsed,o=e.isBanned;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("a",{href:"#/admin/claimers/info/".concat(a),children:a})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{children:Y(s,n.tokenDecimals)})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{children:r})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{children:Y(c)})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{children:"1"==o?Pe("Yes"):""})}),(0,i.jsx)("td",{})]},t)}))}):(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:"6",align:"center",children:Pe("empty")})})})]})}),(0,i.jsx)(_e,{totalItems:m,perPage:10,page:t,href:"#/admin/claimers/{page}"})]})}var De=function(e){var n=(0,a.Z)({},e),t=n.address,i=n.chainId,s=n.claimer;return new Promise((function(e,n){var r=F(i),c=new me.vU(ue.Mt);ye({multicall:r,target:t,encoder:c,calls:{claimer:{func:"getClaimerInfo",args:[s]},bannedWhy:{func:"bannedClaimersWhy",args:[s]},bannedWho:{func:"bannedClaimersWho",args:[s]},bannedWhen:{func:"bannedClaimersWhen",args:[s]}}}).then((function(n){console.log(">> answer",n),e((0,a.Z)({chainId:i,address:t},n))})).catch((function(e){console.log(">> call mc err",e),n(e)}))}))},Oe=function(e){var n=e.address,t=e.tokenAddress,a=e.chainId;return new Promise((function(e,i){_({address:n,chainId:a}).then((function(s){re({wallet:n,chainId:a,tokenAddress:t}).then((function(t){e({address:n,energy:s,balance:t.wei,tokenSymbol:t.symbol,tokenDecimals:t.decimals})})).catch((function(e){console.log(">> err",e),i(e)}))})).catch((function(e){console.log(">> err",e),i(e)}))}))};function He(e){var n=$("CLAIMER_INFO"),t=e.gotoPage,a=e.factoryStatus,r=e.params.claimerAddress,c=(0,s.useState)(!1),o=c[0],l=c[1],d=(0,s.useState)(!1),u=d[0],m=d[1],p=(0,s.useState)(!1),h=p[0],y=p[1],f=(0,s.useState)(!1),g=f[0],x=f[1],b=(0,s.useState)(!1),j=b[0],v=b[1],w=(0,s.useState)(!0),T=w[0],C=w[1],k=(0,s.useState)(0),A=k[0],S=k[1],N=(0,s.useState)(0),M=N[0],F=N[1],_=(0,s.useState)(!0),E=_[0],B=_[1];return(0,s.useEffect)((function(){C(!0),De({address:a.address,chainId:I,claimer:r}).then((function(e){console.log("answer",e);var n=e.claimer,t=e.bannedWho,a=e.bannedWhen,i=e.bannedWhy;l(n),x(a),m(t),y(i),v(!0),C(!1)})).catch((function(e){console.log(">> err")})),B(!0),Oe({address:r,tokenAddress:a.tokenAddress,chainId:I}).then((function(e){var n=e.energy,t=e.balance;S(n),F(t),B(!1)})).catch((function(e){console.log(">> err",e)}))}),[r]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Claimers - Info"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/claimers/",children:"[Back]"})}),(0,i.jsxs)("div",{className:"adminForm ".concat(T?"isLoading":""),children:[(0,i.jsx)("header",{children:n("Claimer info")}),j&&o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"Address"}),(0,i.jsx)("div",{className:"infoRow",children:r})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"Status"}),E?(0,i.jsx)("div",{className:"infoRow",children:"Fetching"}):(0,i.jsxs)("div",{className:"infoRow",children:[(0,i.jsxs)("label",{children:["Balance: ",Y(M,a.tokenDecimals)," ",a.tokenSymbol]}),(0,i.jsxs)("label",{children:["Energy: ",Y(A)]})]})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsxs)("label",{children:["Energy requested from faucet: ",Y(o.faucetUsed)]}),(0,i.jsxs)("label",{children:["Tokens claimed:",Y(o.claimedAmount,a.tokenDecimals)," ",a.tokenSymbol]}),(0,i.jsxs)("label",{children:["QR-Codes claimed: ",o.claimedQrCodesCount]})]}),o.isBanned&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"redInfoBox smallBox",children:n("Claimer is banned")}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:n("When added to banlist")}),(0,i.jsx)("div",{className:"infoRow",children:Fe(g)}),(0,i.jsx)("label",{children:n("Who add to banlist")}),(0,i.jsx)("div",{className:"infoRow",children:u}),(0,i.jsx)("label",{children:n("Ban reason")}),(0,i.jsx)("div",{className:"infoRow",children:h})]})]})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{className:"isCancel",onClick:function(){window.history.back()},children:n("Go back")}),(0,i.jsx)("button",{children:n("Show claimed QR-Codes")}),o.isBanned?(0,i.jsx)("button",{className:"isRed",onClick:function(){t("/admin/claimers/unban/".concat(r))},children:n("Remove from banlist")}):(0,i.jsx)("button",{className:"isRed",onClick:function(){t("/admin/claimers/ban/".concat(r))},children:n("Add to banlist")})]})]})]})}function Qe(e){var n=$("CLAIMER_BAN"),t=e.gotoPage,a=(e.factoryStatus,e.params.claimerAddress),r="REASON",c="CONFIRM",o="READY",l=je(),d=l.injectedAccount,u=l.injectedWeb3,m=(0,s.useState)(r),p=m[0],h=m[1],y=(0,s.useState)(!1),f=y[0],g=y[1],x=(0,s.useState)(""),b=x[0],j=x[1],v=(0,s.useState)(!0),w=v[0],T=v[1];(0,s.useEffect)((function(){a&&(h(r),j(""),g(!1))}),[a]),(0,s.useEffect)((function(){T(!1)}),[b]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Claimers - Ban"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/claimers/",children:"[Back]"})}),(0,i.jsxs)("div",{className:"adminForm ".concat(f?"isLoading":""),children:[(0,i.jsx)("header",{children:n("Ban claimer")}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:n("Address")}),(0,i.jsx)("div",{className:"infoRow",children:a})]}),p==r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{className:"required",children:n("Ban reason")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"text",className:w?"hasError":"",value:b,onChange:function(e){j(e.target.value)}}),w&&(0,i.jsx)("div",{className:"error",children:n("Ban reason is required")})]})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{className:"isRed",onClick:function(){!function(){if(!b)return T(!0);h(c)}()},children:n("Add to banlist")}),(0,i.jsx)("button",{className:"isCancel",onClick:function(){t("#/admin/claimers/info/".concat(a))},children:n("Cancel")})]})]}),p==c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:n("Reason of ban")}),(0,i.jsx)("div",{className:"infoRow",children:b})]}),(0,i.jsx)("div",{className:"greenInfoBox",children:n("Ban this claimer address?")}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{className:"isRed",onClick:function(){g(!0),xe({activeWallet:d,activeWeb3:u,contractAddress:B,method:"addClaimerBan",args:[a,b]}).then((function(e){g(!1),h(o)})).catch((function(e){g(!1),console.log(e)}))},children:n("Yes, add this claimer to banlist")}),(0,i.jsx)("button",{className:"isCancel",onClick:function(){h(r)},children:n("Go back")}),(0,i.jsx)("button",{className:"isCancel",onClick:function(){t("#/admin/claimers/info/".concat(a))},children:n("Cancel")})]})]}),p==o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"greenInfoBox",children:n('Claimer {claimerAddress} added to banlist with reason "{banReason}"',{claimerAddress:a,banReason:b})}),(0,i.jsx)("div",{className:"buttonsHolder",children:(0,i.jsx)("button",{className:"isGreen",onClick:function(){t("#/admin/claimers/info/".concat(a))},children:n("Ready")})})]})]})]})}function We(e){var n=$("CLAIMER_UNBAN"),t=e.gotoPage,a=(e.factoryStatus,e.params.claimerAddress),r="CONFIRM",c="READY",o=je(),l=o.injectedAccount,d=o.injectedWeb3,u=(0,s.useState)(r),m=u[0],p=u[1],h=(0,s.useState)(!1),y=h[0],f=h[1];(0,s.useEffect)((function(){a&&(p(r),f(!1))}),[a]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Claimers - Remove from ban"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/claimers/",children:"[Back]"})}),(0,i.jsxs)("div",{className:"adminForm ".concat(y?"isLoading":""),children:[(0,i.jsx)("header",{children:n("Remove claimer from banlist")}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:n("Address")}),(0,i.jsx)("div",{className:"infoRow",children:a})]}),m==r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"greenInfoBox",children:n("Remove this claimer address from banlist?")}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{className:"isRed",onClick:function(){f(!0),xe({activeWallet:l,activeWeb3:d,contractAddress:B,method:"delClaimerBan",args:[a]}).then((function(e){f(!1),p(c)})).catch((function(e){f(!1),console.log(e)}))},children:n("Yes, remove from banlist")}),(0,i.jsx)("button",{className:"isCancel",onClick:function(){t("#/admin/claimers/info/".concat(a))},children:n("Cancel")})]})]}),m==c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"greenInfoBox",children:n('Claimer {claimerAddress} removed from banlist"',{claimerAddress:a})}),(0,i.jsx)("div",{className:"buttonsHolder",children:(0,i.jsx)("button",{className:"isGreen",onClick:function(){t("#/admin/claimers/info/".concat(a))},children:n("Ready")})})]})]})]})}var qe=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_oracle","type":"address"},{"internalType":"address","name":"_token","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"swapId","type":"uint256"},{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"onSwapIn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"swapId","type":"uint256"},{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"onSwapOut","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"swapId","type":"uint256"},{"indexed":false,"internalType":"bytes32","name":"inHash","type":"bytes32"}],"name":"onSwapOutReady","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"swapId","type":"uint256"},{"indexed":false,"internalType":"address","name":"refunder","type":"address"}],"name":"onSwapOutRefund","type":"event"},{"inputs":[{"internalType":"address","name":"who","type":"address"}],"name":"blacklistAdd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"}],"name":"blacklistDel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"}],"name":"blacklistExists","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"blacklistItems","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNextSwapOut","outputs":[{"components":[{"internalType":"uint256","name":"swapId","type":"uint256"},{"internalType":"address","name":"fromAddress","type":"address"},{"internalType":"address","name":"toAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"utx","type":"uint256"},{"internalType":"uint256","name":"blocknumber","type":"uint256"},{"internalType":"bool","name":"swapped","type":"bool"},{"internalType":"bool","name":"refunded","type":"bool"},{"internalType":"bytes32","name":"inHash","type":"bytes32"}],"internalType":"struct SimpleERC20Bridge.SwapOut","name":"ret","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSwapsOQuery","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenDecimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenSymbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastSwapOutId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracle","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"refundTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"swapId","type":"uint256"},{"internalType":"address","name":"fromAddress","type":"address"},{"internalType":"address","name":"toAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"swapIn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"toAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"swapOut","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"swapId","type":"uint256"}],"name":"swapOutQueryAdd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"swapId","type":"uint256"}],"name":"swapOutQueryDel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"swapId","type":"uint256"},{"internalType":"bytes32","name":"inHash","type":"bytes32"}],"name":"swapOutReady","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"swapId","type":"uint256"}],"name":"swapOutRefund","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"swapsIn","outputs":[{"internalType":"uint256","name":"swapId","type":"uint256"},{"internalType":"address","name":"fromAddress","type":"address"},{"internalType":"address","name":"toAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"utx","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"swapsOut","outputs":[{"internalType":"uint256","name":"swapId","type":"uint256"},{"internalType":"address","name":"fromAddress","type":"address"},{"internalType":"address","name":"toAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"utx","type":"uint256"},{"internalType":"uint256","name":"blocknumber","type":"uint256"},{"internalType":"bool","name":"swapped","type":"bool"},{"internalType":"bool","name":"refunded","type":"bool"},{"internalType":"bytes32","name":"inHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"swapsOutQuery","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"swapsOutQueryExists","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"withdrawTokens","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),Ze=function(e){return new Promise(function(){var n=(0,ee.Z)((function(n,t){var a,i,s,r,c,o,l,d,u,m,p,h,y,f;return(0,ne.__generator)(this,(function(g){switch(g.label){case 0:return i=e.activeWallet,s=e.activeWeb3,r=e.contractAddress,c=e.method,o=e.args,l=e.weiAmount,d=e.onTrx||function(){},u=e.onSuccess||function(){},m=e.onError||function(){},p=e.onFinally||function(){},h=new s.eth.Contract(qe.Mt,r),[4,oe(i,h,c,o||[],l)];case 1:return y=g.sent(),[4,s.eth.getGasPrice()];case 2:return f=g.sent(),y.gasPrice=f,(a=h.methods)[c].apply(a,(0,ce.Z)(o||[])).send(y).on("transactionHash",(function(e){console.log("transaction hash:",e),d(e)})).on("error",(function(e){console.log("transaction error:",e),m(e),t(e)})).on("receipt",(function(e){console.log("transaction receipt:",e),u(e)})).then((function(e){n(e),p(e)})),[2]}}))}));return function(e,t){return n.apply(this,arguments)}}())};function Le(e){var n=e.gotoPage,t=e.params.target,a=e.backendStatus,r=a.bridge_qrcode_tokenBalance,c=a.bridge_qrcode_tokenDecimals,o=a.bridge_qrcode_tokenSymbol,l=a.bridge_mainnet_tokenBalance,d=a.bridge_mainnet_tokenDecimals,u=a.bridge_mainnet_tokenSymbol,p=e.UpdateBackendStatus,h={qrcode:I,mainnet:5},y={qrcode:D,mainnet:O},f={balance:"qrcode"==t?r:l,decimals:"qrcode"==t?c:d,symbol:"qrcode"==t?o:u},g=je(),x=g.injectedAccount,b=g.injectedWeb3,j=(0,m.LN)().chain,v=(0,m.g0)().switchNetwork,w=(0,s.useState)(!1),T=w[0],C=w[1],k=(0,s.useState)(!1),A=k[0],S=k[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:"AdminPanel - Add tokens"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/admin/",children:"[Back]"})}),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"adminForm ".concat(T?"isLoading":""),children:[(0,i.jsx)("header",{children:J("Withdraw tokens from {name} bridge",{name:{qrcode:"QRCode-chain",mainnet:"Mainnet-chain"}[t]})}),A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"inputHolder",children:J("Tokens successfull withdrawed from bridge contract")}),(0,i.jsx)("div",{className:"buttonsHolder",children:(0,i.jsx)("button",{onClick:function(){n("/admin/")},className:"isGreen",children:J("Go back")})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:J("Tokens at bridge")}),(0,i.jsxs)("div",{className:"infoRow",children:[Y(f.balance,f.decimals)," ",(0,i.jsx)("strong",{children:f.symbol})]})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[h[t]!=j.id?(0,i.jsx)("button",{onClick:function(){v(h[t])},children:J("Switch network")}):(0,i.jsx)("button",{onClick:function(){C(!0),Ze({activeWallet:x,activeWeb3:b,contractAddress:y[t],method:"withdrawTokens",args:[x]}).then((function(e){C(!1),S(!0),p()})).catch((function(e){C(!1),console.log(e)}))},disabled:T,children:J(T?"Withdrawing tokens...":"Withdraw all tokens")}),(0,i.jsx)("button",{disabled:T,onClick:function(){n("/admin/")},className:"isCancel",children:J("Cancel")})]})]})]})})]})}function Ge(e){e.gotoPage;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("h2",{children:"Manager panel"})})}function Ue(e){e.gotoPage,e.factoryStatus;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"Minter panel"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/minter/mint",children:"[Mint QRCode]"})})]})}var Ve=$("MINT_PAGE");function ze(e){var n=e.gotoPage,t=e.factoryStatus,a=((0,m.mA)().address,(0,m.mA)(),L()),r=a.browserWeb3,c=a.browserAccount,o=je(),l=o.injectedWeb3,d=o.injectedAccount,u=(0,s.useState)(0),p=u[0],h=u[1],y=(0,s.useState)(""),f=y[0],g=y[1],x=(0,s.useState)(""),b=x[0],j=x[1],v=(0,s.useState)(0),w=v[0],T=v[1],C=(0,s.useState)(0),k=C[0],A=C[1],S=(0,s.useState)(!1),N=(S[0],S[1]),M=(0,s.useState)(!0),F=M[0],E=M[1];(0,s.useEffect)((function(){N(!1),E(!0),_({address:c,chainId:I}).then((function(e){A(e),N(!0),E(!1),console.log(">>> balance",e)})).catch((function(e){N(!1),E(!1),console.log(">> err",e)}))}),[c]),(0,s.useEffect)((function(){g("")}),[p]);var P=(0,s.useState)(!1),R=P[0],D=P[1];return console.log(t),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"Minter panel"}),(0,i.jsx)("nav",{children:(0,i.jsx)("a",{href:"#/minter/",children:"[Back]"})}),(0,i.jsxs)("div",{className:"adminForm ".concat(R||F?"isLoading":""),children:[(0,i.jsx)("header",{children:Ve("Mint new QRCode")}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:Ve("Energy")}),(0,i.jsx)("div",{className:"infoRow",children:Y(k)})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{className:"required",children:Ve("Amount ({tokenSymbol})",{tokenSymbol:t.tokenSymbol})}),(0,i.jsx)("input",{className:""!=f?"hasError":"",type:"number",value:p,onChange:function(e){h(e.target.value)}}),""!=f&&(0,i.jsx)("div",{className:"error",children:f}),(0,i.jsx)("style",{children:'\n              .tokensAmountPresset {\n                padding-left: 1em;\n                padding-right: 1em;\n                padding-top: 0.25em;\n              }\n              .tokensAmountPresset SPAN {\n                font-size: 12pt;\n              }\n              .tokensAmountPresset A {\n                font-weight: bold;\n                cursor: pointer;\n                font-size: 12pt;\n              }\n              .tokensAmountPresset A::after {\n                content: "|";\n                padding-left: 0.25em;\n                padding-right: 0.25em;\n                font-size: 12pt;\n              }\n            '}),(0,i.jsxs)("div",{className:"tokensAmountPresset",children:[(0,i.jsx)("span",{children:Ve("predefined value:")}),Q.map((function(e,n){return(0,i.jsxs)("a",{onClick:function(){h(e)},children:["[",e,"]"]},n)}))]})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:Ve("Message")}),(0,i.jsx)("input",{type:"text",value:b,onChange:function(e){j(e.target.value)}})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:Ve("Expired in")}),(0,i.jsxs)("select",{value:w,onChange:function(e){T(e.target.value)},children:[(0,i.jsx)("option",{value:0,children:Ve("Default ({timelife} seconds)",{timelife:t.defaultExpireTime})}),Object.keys(W).map((function(e,n){return(0,i.jsx)("option",{value:e,children:Ve(W[e])},n)}))]})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{disabled:R,onClick:function(){if(new V.Z(p).isLessThanOrEqualTo(0))return g(Ve("Amount must be greater than zero"));D(!0);var e=!!new V.Z(k).isGreaterThanOrEqualTo(z(.01));xe({activeWallet:e?c:d,activeWeb3:e?r:l,web3:!!new V.Z(k).isGreaterThanOrEqualTo(z(.01))&&r,contractAddress:B,method:"mint",args:[z(p,t.tokenDecimals),w,b]}).then((function(e){if(console.log(e),e&&e.events&&e.events.QrCodeMinted){var t=e.events.QrCodeMinted.returnValues.qrcode;n("/qrcodeview/".concat(t))}})).catch((function(e){console.log(">>>",e)}))},children:"Mint new QRCode"}),(0,i.jsx)("button",{disabled:R,className:"isCancel",children:Ve("Cancel")})]})]})]})}function Ye(e){var n=e.gotoPage;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"Claimer panel"}),(0,i.jsx)("button",{onClick:function(){n("claimer/scanqrcode")},children:"ScanQR"})]})}var Xe=t(77283),Ke=/^0x[A-Fa-f0-9]{40}$/,Je=function(e){return"string"===typeof e&&Ke.test(e)};function $e(e){var n=e.gotoPage;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:"\n        .scan {\n          display: flex;\n          flex-direction: column;\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: #000;\n          width: 100%;\n          height: 100%;\n          z-index: 999999999999999999;\n        }\n\n        .close {\n          text-align: right;\n          position: relative;\n          padding: 0.25em;\n          font-size: 3em;\n          color: #FFF;\n          cursor: pointer;\n        }\n      "}),(0,i.jsxs)("div",{className:"scan",children:[(0,i.jsx)("a",{className:"close",onClick:function(){n("/claimer/")},children:"\xd7"}),(0,i.jsx)(Xe.T,{constraints:{facingMode:{exact:"environment"}},onResult:function(e,t){e&&function(e){var t=e.split("/").reverse();t.length>1&&Je(t[0])&&"qrcodeclaim"==t[1]&&n("/qrcodeclaim/".concat(t[0]))}(null===e||void 0===e?void 0:e.getText())}})]})]})}var en=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"},{"internalType":"address","name":"_minter","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_created_at","type":"uint256"},{"internalType":"uint256","name":"_timelife","type":"uint256"},{"internalType":"string","name":"_minterName","type":"string"},{"internalType":"string","name":"_message","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"amount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"claimer","type":"address"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"created_at","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"contract QRCodeFactory","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isClaimed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isValid","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"message","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minter","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minterName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"timelife","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"}]}'),nn=function(e){var n=(0,a.Z)({},e),t=n.address,i=n.chainId;return new Promise((function(e,n){var s=F(i),r=new me.vU(en.Mt);ye({multicall:s,target:t,encoder:r,calls:{factory:{func:"factory"},token:{func:"token"},minter:{func:"minter"},amount:{func:"amount"},name:{func:"name"},symbol:{func:"symbol"},decimals:{func:"decimals"},minterName:{func:"minterName"},message:{func:"message"},isValidBlockchain:{func:"isValid"},isClaimed:{func:"isClaimed"},created_at:{func:"created_at"},timelife:{func:"timelife"}}}).then((function(n){console.log(">> QrCode",n);var s=Math.floor((new Date).getTime()/1e3),r=Number(n.created_at)+Number(n.timelife)>s;e((0,a.Z)({chainId:i,address:t,isValid:r},n))})).catch((function(e){console.log(">> call mc err",e),n(e)}))}))},tn=t(1653);function an(e){e.gotoPage,e.factoryStatus;var n=e.params.qrCodeAddress,t=((0,m.mA)().address,(0,m.mA)(),(0,s.useState)(!0)),a=t[0],r=t[1],c=(0,s.useState)(!1),o=c[0],l=c[1],d=(0,s.useState)(!1),u=d[0],p=d[1],h=(0,s.useState)("http://localhost:3000/#/qrcodeclaim/".concat(n)),y=h[0];h[1];return(0,s.useEffect)((function(){r(!0),l(!1),nn({chainId:I,address:n}).then((function(e){console.log("QRCode Info",e),p(e),l(!0),r(!1)})).catch((function(e){l(!1),r(!1),console.log("err",e)}))}),[n]),(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)("div",{children:"Loading..."}),!a&&!o&&(0,i.jsx)("div",{children:"Fail fetch QRCode info"}),o&&u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:["QRCODE: ",n]}),(0,i.jsx)("div",{children:(0,i.jsx)("strong",{children:u.minterName})}),(0,i.jsx)("div",{children:(0,i.jsx)("em",{children:u.message})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"Scan code for get ".concat(Y(u.amount,u.decimal))}),(0,i.jsx)("strong",{children:u.symbol})]}),(0,i.jsx)("div",{style:{height:"auto",margin:"0 auto",maxWidth:320,width:"100%"},children:(0,i.jsx)(tn.ZP,{size:256,style:{height:"auto",maxWidth:"100%",width:"100%"},value:y,viewBox:"0 0 256 256"})}),(0,i.jsx)("div",{children:(0,i.jsx)("strong",{children:(0,i.jsx)("a",{href:y,_target:"_blank",children:y})})})]})]})}var sn=t(11752),rn=t.n(sn),cn=function(e){return new Promise(function(){var n=(0,ee.Z)((function(n,t){var a,i,s,r,c,o,l,d,u,m,p,h,y,f;return(0,ne.__generator)(this,(function(g){switch(g.label){case 0:return i=e.activeWallet,s=e.activeWeb3,r=e.contractAddress,c=e.method,o=e.args,l=e.weiAmount,d=e.onTrx||function(){},u=e.onSuccess||function(){},m=e.onError||function(){},p=e.onFinally||function(){},h=new s.eth.Contract(ue.Mt,r),[4,oe(i,h,c,o||[],l)];case 1:return y=g.sent(),[4,s.eth.getGasPrice()];case 2:return f=g.sent(),y.gasPrice=f,(a=h.methods)[c].apply(a,(0,ce.Z)(o||[])).send(y).on("transactionHash",(function(e){console.log("transaction hash:",e),d(e)})).on("error",(function(e){console.log("transaction error:",e),m(e),t(e)})).on("receipt",(function(e){console.log("transaction receipt:",e),u(e)})).then((function(e){n(e),p(e)})),[2]}}))}));return function(e,t){return n.apply(this,arguments)}}())},on=t(5121);function ln(e){e.gotoPage;var n=e.factoryStatus,t=e.params.qrCodeAddress,a=rn()().publicRuntimeConfig.BACKEND_URL,r=(0,m.mA)(),c=r.address,o=r.isConnected,l=je(),d=L(),u=((0,m.mA)(),(0,s.useState)(!0)),p=u[0],h=u[1],y=(0,s.useState)(!1),f=y[0],g=y[1],x=(0,s.useState)(!1),b=x[0],j=x[1],v=(0,s.useState)(o?c:d.browserAccount),w=v[0],T=v[1],C=(0,s.useState)(o?c:d.browserAccount),k=C[0],A=C[1],S=(0,s.useState)(!1),N=S[0],M=S[1],F=(0,s.useState)(!1),_=F[0],E=F[1],B=(0,s.useState)(!1),P=B[0],R=B[1],D=(0,s.useState)(!1),O=D[0],H=D[1],Q=function(){h(!0),g(!1),nn({chainId:I,address:t}).then((function(e){console.log("QRCode Info",e),j(e),g(!0),h(!1)})).catch((function(e){g(!1),h(!1),console.log("err",e)}))};(0,s.useEffect)((function(){R(!1),E(!1),Q()}),[t]),(0,s.useEffect)((function(){O&&(H(!1),Q())}),[O]);var W=function(){E(!0),R(!1),on.Z.get("".concat(a,"claim/").concat(t,"/").concat(w)).then((function(e){console.log(e),R(!0),E(!1)})).catch((function(e){console.log(e),R(!1),E(!1),H(!0)})).finally((function(){}))},q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];E(!0),R(!1),console.log(">>> doClaimByWeb3"),cn({activeWallet:e?l.injectedAccount:d.browserAccount,activeWeb3:e?l.injectedWeb3:d.browserWeb3,contractAddress:t,method:"claim",args:[w]}).then((function(e){R(!0),E(!1),console.log(e)})).catch((function(e){R(!1),E(!1),H(!0),console.log("> err",e)}))};return(0,i.jsxs)(i.Fragment,{children:[p&&(0,i.jsx)("div",{children:"Loading..."}),!p&&!f&&(0,i.jsx)("div",{children:"Fail fetch QRCode info"}),f&&b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:["QRCODE: ",t]}),(0,i.jsx)("div",{children:(0,i.jsx)("strong",{children:b.minterName})}),(0,i.jsx)("div",{children:(0,i.jsx)("em",{children:b.message})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:Y(b.amount,b.decimal)}),(0,i.jsx)("strong",{children:b.symbol})]}),P||_?(0,i.jsxs)(i.Fragment,{children:[P&&(0,i.jsx)("div",{children:"Successfull claimed"}),_&&(0,i.jsx)("div",{children:"Claiming"})]}):(0,i.jsx)(i.Fragment,{children:b.isClaimed?(0,i.jsx)("div",{children:"QRCode is already claimed"}):(0,i.jsx)(i.Fragment,{children:b.isValid?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:"Process claim"}),(0,i.jsx)("div",{children:N?(0,i.jsxs)("div",{children:[(0,i.jsx)("h5",{children:"Edit address for claim"}),(0,i.jsx)("input",{type:"text",value:w,onChange:function(e){T(e.target.value)}}),(0,i.jsx)("button",{onClick:function(){M(!1)},children:"Save"}),(0,i.jsx)("button",{onClick:function(){T(k),M(!1)},children:"Cancel"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{children:["claim to: ",(0,i.jsx)("strong",{children:w})]}),(0,i.jsx)("button",{onClick:function(){A(w),M(!0)},children:"Change address"})]})}),!N&&(0,i.jsx)("button",{onClick:function(){var e=n.claimMinEnergy;new V.Z(d.balance).isGreaterThanOrEqualTo(e)?(q(!1),console.log("claim by browser")):new V.Z(l.balance).isGreaterThanOrEqualTo(e)&&l.isConnected?(console.log("claim by injected"),q(!0)):(console.log("claim by backend"),W())},children:"Claim"})]}):(0,i.jsx)("div",{children:"QRCode expired"})})})]})]})}function dn(e){var n=e.gotoPage,t=e.factoryStatus,a=L().browserAccount,r=(0,s.useState)(0),c=r[0],o=r[1],l=(0,s.useState)(0),d=l[0],u=l[1],m=(0,s.useState)(!0),p=(m[0],m[1]),h=(0,s.useState)(0),y=(h[0],h[1]),f=(0,s.useState)(0),g=f[0],x=f[1],b=(0,s.useState)(""),j=b[0],v=b[1],w=(0,s.useState)(0),T=w[0],C=w[1],k=(0,s.useState)(!0),A=(k[0],k[1]);return(0,s.useEffect)((function(){a&&(p(!0),Oe({address:a,chainId:I,tokenAddress:t.tokenAddress}).then((function(e){var n=e.energy,t=e.balance;u(t),o(n),p(!1)})).catch((function(e){console.log(e)})),A(!0),Oe({address:a,chainId:5,tokenAddress:E}).then((function(e){var n=e.energy,t=e.balance,a=e.tokenDecimals,i=e.tokenSymbol;y(n),x(t),C(a),v(i)})).catch((function(e){console.log(e)})))}),[a]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{children:"Account page"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"You address:"}),(0,i.jsx)("strong",{children:a}),(0,i.jsx)("a",{href:"#/account/backup",children:"[Backup]"}),(0,i.jsx)("a",{href:"#/account/restore",children:"[Restore from seed]"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"Your energy:"}),(0,i.jsx)("strong",{children:Y(c)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"Bonus amount:"}),(0,i.jsx)("strong",{children:Y(d,t.tokenDecimals)}),(0,i.jsx)("em",{children:t.tokenSymbol}),(0,i.jsx)("button",{onClick:function(){n("/bridge")},children:"[Convert bonus to tokens]"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"Token balance:"}),(0,i.jsx)("strong",{children:Y(g,T)}),(0,i.jsx)("em",{children:j})]})]})]})}function un(e){e.gotoPage,e.factoryStatus;var n=L();return console.log(">>> browserAccount",n),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{children:"Account page - backup"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"You address:"}),(0,i.jsx)("strong",{children:n.browserAccount})]}),(0,i.jsxs)("div",{children:["You seed: ",(0,i.jsx)("strong",{children:n.browserMnemonic})]})]})]})}function mn(e){var n=e.gotoPage,t=e.factoryStatus,a="INFO",r="FORM",c="SEED_INFO",o="CONFIRM",l="READY",d=L(),u=d.browserAccount,m=d.switchAccount,p=(0,s.useState)(""),h=p[0],y=p[1],f=(0,s.useState)(a),g=f[0],x=f[1],b=(0,s.useState)(0),j=b[0],v=b[1],w=(0,s.useState)(0),T=w[0],C=w[1],k=(0,s.useState)(0),A=(k[0],k[1],(0,s.useState)(0)),M=(A[0],A[1],(0,s.useState)(0)),F=(M[0],M[1],(0,s.useState)("")),_=(F[0],F[1],(0,s.useState)(!0)),E=(_[0],_[1]),B=(0,s.useState)(!1),P=(B[0],B[1]),R=(0,s.useState)(!1),D=(R[0],R[1]);(0,s.useEffect)((function(){u&&t&&(E(!0),D(!1),Oe({address:u,chainId:I,tokenAddress:t.tokenAddress}).then((function(e){var n=e.energy,t=e.balance;v(n),C(t),P(!0),E(!1)})).catch((function(e){console.log(">> err",e),D(!0),E(!1)})))}),[t,u]);var O=(0,s.useState)(""),H=O[0],Q=O[1],W=(0,s.useState)(0),q=W[0],Z=W[1],G=(0,s.useState)(0),U=G[0],V=G[1],z=(0,s.useState)(!1),X=(z[0],z[1]),K=(0,s.useState)(!1),J=(K[0],K[1]),$=(0,s.useState)(!1),ee=($[0],$[1]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{children:"Account page - restore"}),(0,i.jsxs)("div",{className:"adminForm",children:[(0,i.jsx)("header",{children:"Restore account"}),g==a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"You currenct address:"}),(0,i.jsx)("div",{className:"infoRow",children:(0,i.jsx)("strong",{children:u})})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"Energy"}),(0,i.jsx)("div",{className:"infoRow",children:(0,i.jsx)("strong",{children:Y(j)})})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"Balance"}),(0,i.jsx)("div",{className:"infoRow",children:(0,i.jsxs)("strong",{children:[Y(T,t.tokenDecimals)," ",t.tokenSymbol]})})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{onClick:function(){n("/account/")},className:"isCancel",children:"Cancel"}),(0,i.jsx)("button",{onClick:function(){x(r)},children:"Enter new seed"})]})]}),g==r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{className:"required",children:"New seed"}),(0,i.jsx)("textarea",{value:h,onChange:function(e){y(e.target.value)}})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{onClick:function(){x(a)},className:"isCancel",children:"Back"}),(0,i.jsx)("button",{onClick:function(){!function(){if(N(h)){var e=S({mnemonic:h});console.log(">>> newWalletInfo",e);var n=e.address;Q(n),ee(!1),J(!0),Oe({address:n,chainId:I,tokenAddress:t.tokenAddress}).then((function(e){var n=e.energy,t=e.balance;Z(n),V(t),X(!0),J(!1),x(c)})).catch((function(e){console.log(">> err",e),ee(!0),J(!1)}))}}()},children:"Next"})]})]}),g==c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"New seed"}),(0,i.jsx)("div",{className:"infoRow",children:(0,i.jsx)("strong",{children:h})})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"Address:"}),(0,i.jsx)("div",{className:"infoRow",children:(0,i.jsx)("strong",{children:H})})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"Energy"}),(0,i.jsx)("div",{className:"infoRow",children:(0,i.jsx)("strong",{children:Y(q)})})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"Balance"}),(0,i.jsx)("div",{className:"infoRow",children:(0,i.jsxs)("strong",{children:[Y(U,t.tokenDecimals)," ",t.tokenSymbol]})})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{onClick:function(){x(r)},className:"isCancel",children:"Back"}),(0,i.jsx)("button",{onClick:function(){x(o)},children:"Use this seed"})]})]}),g==o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{children:"New wallet"}),(0,i.jsx)("div",{className:"infoRow",children:(0,i.jsx)("strong",{children:H})})]}),(0,i.jsx)("div",{className:"greenInfoBox",children:"Are you realy want switch to this account?"}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{onClick:function(){x(c)},className:"isCancel",children:"Back"}),(0,i.jsx)("button",{onClick:function(){m(h)&&x(l)},children:"Confirm"})]})]}),g==l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"greenInfoBox",children:["Account switched to ",H]}),(0,i.jsx)("div",{className:"buttonsHolder",children:(0,i.jsx)("button",{onClick:function(){n("/account")},className:"isGreen",children:"Ok, go back to account page"})})]})]})]})}var pn=function(e){var n=e.from,t=e.to,a=e.tokenAddress,i=e.chainId;return new Promise((function(e,s){var r=b(i);new(new(w())(r).eth.Contract)(se(),a).methods.allowance(n,t).call().then((function(s){e({from:n,to:t,allowance:s,tokenAddress:a,chainId:i})})).catch((function(e){s(e)}))}))},hn=function(e){return new Promise(function(){var n=(0,ee.Z)((function(n,t){var a,i,s,r,c,o,l,d,u,m,p,h,y;return(0,ne.__generator)(this,(function(f){switch(f.label){case 0:return i=e.activeWallet,s=e.activeWeb3,r=e.tokenAddress,c=e.approveFor,o=e.weiAmount,l=e.onTrx||function(){},d=e.onSuccess||function(){},u=e.onError||function(){},m=e.onFinally||function(){},p=new s.eth.Contract(se(),r),[4,oe(i,p,"approve",[c,o])];case 1:return h=f.sent(),[4,s.eth.getGasPrice()];case 2:return y=f.sent(),h.gasPrice=y,(a=p.methods).approve.apply(a,[c,o]).send(h).on("transactionHash",(function(e){l(e)})).on("error",(function(e){u(e),t(e)})).on("receipt",(function(e){d(e)})).then((function(e){n(e),m(e)})),[2]}}))}));return function(e,t){return n.apply(this,arguments)}}())},yn=function(e){var n=(0,a.Z)({},e),t=n.address,i=n.chainId,s=n.swapId;return new Promise((function(e,n){var r=F(i),c=new me.vU(qe.Mt);ye({multicall:r,target:t,encoder:c,calls:{info:{func:"swapsOut",args:[s]}}}).then((function(n){e((0,a.Z)({chainId:i,address:t},n))})).catch((function(e){console.log(">> call mc err",e),n(e)}))}))},fn=function(e){return new Promise((function(n){window.setTimeout((function(){n()}),e)}))};function gn(e){var n=e.gotoPage,t=e.factoryStatus,a=e.backendStatus,r=(a.bridge_qrcode_tokenDecimals,a.bridge_qrcode_tokenSymbol,a.bridge_mainnet_tokenSymbol,"BEGIN"),c="CONFIRM",o="WAIT",l="READY",d=(0,s.useState)(0),u=(d[0],d[1]),m=(0,s.useState)(0),p=m[0],h=m[1],y=(0,s.useState)(!0),f=(y[0],y[1]),g=(0,s.useState)(0),x=g[0],b=g[1],j=(0,s.useState)(""),v=j[0],w=j[1],T=(0,s.useState)(r),C=T[0],k=T[1],A=L(),S=A.browserAccount,N=A.browserWeb3,M=(0,s.useState)(!1),F=M[0],_=M[1],E=(0,s.useState)(0),B=E[0],P=E[1],R=(0,s.useState)(""),O=R[0],H=(R[1],(0,s.useState)(S)),Q=H[0],W=H[1],q=(0,s.useState)(!1),Z=q[0],G=q[1],U=(0,s.useState)(0),X=U[0],K=U[1];(0,s.useEffect)((function(){S&&(f(!0),Oe({address:S,chainId:I,tokenAddress:t.tokenAddress}).then((function(e){var n=e.energy,t=e.balance,a=e.tokenDecimals,i=e.tokenSymbol;h(t),u(n),f(!1),b(a),w(i)})).catch((function(e){console.log(e)})),G(!0),pn({from:S,to:D,chainId:I,tokenAddress:t.tokenAddress}).then((function(e){var n=e.allowance;K(n),G(!1)})).catch((function(e){console.log(">>> err",e)})))}),[S]);var $={PREPARE:"PREPARE",APPROVE:"APPROVE",APPROVE_TX:"APPROVE_TX",SEND_TO_BRIDGE:"SEND_TO_BRIDGE",SEND_TO_BRIDGE_TX:"SEND_TO_BRIDGE_TX",WAIT_SWAP:"WAIT_SWAP"},te=(0,s.useState)($.PREPARE),ae=te[0],ie=te[1],se=(0,s.useState)(!1),re=(se[0],se[1],(0,s.useState)(0)),ce=re[0],oe=re[1],le=function(){var e=(0,ee.Z)((function(){var e,n;return(0,ne.__generator)(this,(function(a){switch(a.label){case 0:if(k(o),e=z(B,x),!new V.O(e).isGreaterThan(X))return[3,4];ie($.APPROVE),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,hn({activeWallet:S,activeWeb3:N,tokenAddress:t.tokenAddress,approveFor:D,weiAmount:"0x"+new V.O(e).toString(16),onTrx:function(e){ie($.APPROVE_TX)}})];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),console.log("Fail approve",n),_(!1),[2];case 4:return ie($.SEND_TO_BRIDGE),Ze({activeWallet:S,activeWeb3:N,contractAddress:D,method:"swapOut",args:[Q,"0x"+new V.O(z(B,x)).toString(16)],onTrx:function(e){ie($.SEND_TO_BRIDGE_TX)}}).then((function(e){var n,t,a,i,s,r,c,o,l;(console.log(">>> bridge answer",e),null===e||void 0===e||null===(n=e.events)||void 0===n||null===(t=n.onSwapOut)||void 0===t||null===(a=t.returnValues)||void 0===a?void 0:a.swapId)&&(console.log(">>> swapId",null===e||void 0===e||null===(i=e.events)||void 0===i||null===(s=i.onSwapOut)||void 0===s||null===(r=s.returnValues)||void 0===r?void 0:r.swapId),oe(null===e||void 0===e||null===(c=e.events)||void 0===c||null===(o=c.onSwapOut)||void 0===o||null===(l=o.returnValues)||void 0===l?void 0:l.swapId),ie($.WAIT_SWAP),_(!1))})).catch((function(e){_(!1),console.log(e)})),[2]}}))}));return function(){return e.apply(this,arguments)}}(),de=(0,s.useState)(!1),ue=(de[0],de[1]),me=F||Z,pe=(0,s.useState)(0),he=pe[0],ye=pe[1];return(0,s.useEffect)((function(){ce&&yn({address:D,chainId:I,swapId:ce}).then(function(){var e=(0,ee.Z)((function(e){var n,t;return(0,ne.__generator)(this,(function(a){switch(a.label){case 0:return n=e.info,t=n.swapped,n.inHash,t?(ue(!0),k(l),[3,3]):[3,1];case 1:return[4,fn(5e3)];case 2:a.sent(),ye(he+1),a.label=3;case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}()).catch(function(){var e=(0,ee.Z)((function(e){return(0,ne.__generator)(this,(function(n){switch(n.label){case 0:return console.log("err",e),[4,fn(5e3)];case 1:return n.sent(),ye(he+1),[2]}}))}));return function(n){return e.apply(this,arguments)}}())}),[ce,he]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"adminForm ".concat(me?"isLoading":""),children:[(0,i.jsx)("header",{children:J("Bridge tokens to mainnet")}),C==r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{className:"required",children:J("Amount (Aviable {balance} {symbol})",{balance:Y(p,x),symbol:v})}),(0,i.jsxs)("div",{className:"inputWithButtons",children:[(0,i.jsx)("input",{type:"number",value:B,className:""!==O?"hasError":"",onChange:function(e){P(e.target.value)}}),(0,i.jsx)("button",{onClick:function(){P(Y(p,x))},children:J("Max")})]}),""!=O&&(0,i.jsx)("div",{className:"error",children:O})]}),(0,i.jsxs)("div",{className:"inputHolder",children:[(0,i.jsx)("label",{className:"required",children:J("Destination address")}),(0,i.jsx)("div",{className:"inputWithButtons",children:(0,i.jsx)("input",{type:"text",value:Q,onChange:function(e){W(e.target.value)}})})]}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{onClick:function(){n("/account/")},className:"isCancel",children:J("Cancel")}),(0,i.jsx)("button",{onClick:function(){k(c)},children:J("Next")})]})]}),C==c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"greenInfoBox",children:J("Bridge tokens?")}),(0,i.jsxs)("div",{className:"buttonsHolder",children:[(0,i.jsx)("button",{onClick:function(){k(r)},className:"isCancel",children:J("Back")}),(0,i.jsx)("button",{onClick:le,children:J("Next")})]})]}),C==o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"greenInfoBox",children:J("Swap in progress. Plase wait")}),(0,i.jsx)("div",{className:"greenInfoBox smallBox",children:$[ae]}),(0,i.jsx)("div",{className:"buttonsHolder",children:(0,i.jsx)("button",{disabled:!0,children:"Swapping..."})})]}),C==l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"greenInfoBox",children:J("Tokens succefully bridged to mainnet")}),(0,i.jsx)("div",{className:"buttonsHolder",children:(0,i.jsx)("button",{onClick:function(){n("/account/")},className:"isGreen",children:J("Ok")})})]})]})})}var xn=t(45962),bn=t(48635),jn=t(9396),vn=t(34155),wn=t(43804);t(76287);function Tn(e){var n=e.children,t=function(e,n){var t=j(e),a=t.chains,i=t.publicClient,s=(0,xn.a3)([{groupName:"Popular",wallets:[(0,bn.U)({chains:a}),(0,jn.P)({projectId:vn.env.NEXT_PUBLIC_PROJECT_ID||"a23677c4af3139b4eccb52981f76ad94",chains:a,shimDisconnect:!1})]}]);return{chains:a,wagmiConfig:(0,m._g)({publicClient:i,connectors:s,autoConnect:n})}}(e.chainIds,e.autoConnect),a=t.chains,s=t.wagmiConfig;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(m.eM,{config:s,children:(0,i.jsx)(u.pj,{chains:a,theme:(0,wn.$)(),children:n})})})}function Cn(e){var n=e.children,t=e.chainId;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(G,{chainId:t,children:(0,i.jsx)(Tn,{chainIds:[t],autoConnect:!0,children:(0,i.jsx)(ve,{chainId:t,children:n})})})})}var kn=function(e){var n=(0,a.Z)({},e),t=n.address,i=n.chainId;return new Promise((function(e,n){var s=F(i),r=new me.vU(ue.Mt);ye({multicall:s,target:t,encoder:r,calls:{owner:{func:"owner"},tokenAddress:{func:"tokenAddress"},tokenName:{func:"getTokenName"},tokenSymbol:{func:"getTokenSymbol"},tokenDecimals:{func:"getTokenDecimals"},tokenBalance:{func:"getTokenBalance"},faucetBalance:{func:"getFaucetBalance"},mintersCount:{func:"getMintersCount"},managersCount:{func:"getManagersCount"},claimersCount:{func:"getClaimersCount"},claimersBannedCount:{func:"getBannedClaimersCount"},totalMinted:{func:"qrCodesLength"},totalClaimed:{func:"totalQrCodesClaimed"},totalClaimedAmount:{func:"totalClaimedAmount"},totalMintedAmount:{func:"totalMintedAmount"},totalFaucetAmount:{func:"totalFaucetAmount"},defaultExpireTime:{func:"codeTL"},claimMinEnergy:{func:"faucetAmount"}}}).then((function(n){console.log(">> answer",n),e((0,a.Z)({chainId:i,address:t},n))})).catch((function(e){console.log(">> call mc err",e),n(e)}))}))},An=function(e){var n=(0,a.Z)({},e),t=n.address,i=n.chainId;return new Promise((function(e,n){var s=F(i),r=new me.vU(qe.Mt);ye({multicall:s,target:t,encoder:r,calls:{owner:{func:"owner"},oracle:{func:"oracle"},tokenAddress:{func:"token"},tokenName:{func:"getTokenName"},tokenSymbol:{func:"getTokenSymbol"},tokenDecimals:{func:"getTokenDecimals"},tokenBalance:{func:"getBalance"}}}).then((function(n){console.log(">> answer",n),e((0,a.Z)({chainId:i,address:t},n))})).catch((function(e){console.log(">> call mc err",e),n(e)}))}))};var Sn=function(e){var n=(0,s.useState)(!0),t=n[0],r=n[1],c=(0,s.useState)(!1),u=c[0],m=c[1],p=(0,s.useState)(!1),h=p[0],y=p[1],f=(0,s.useState)(!1),g=f[0],x=f[1],b=(0,s.useState)({claimer_balance:0,bridge_qrcode_balance:0,bridge_qrcode_tokenBalance:0,bridge_qrcode_tokenDecimals:0,bridge_qrcode_tokenSymbol:"",bridge_mainnet_balance:0,bridge_mainnet_tokenBalance:0,bridge_mainnet_tokenDecimals:0,bridge_mainnet_tokenSymbol:""}),j=b[0],v=b[1],w=(0,s.useState)(!1),T=w[0],C=w[1],k=function(){var e=function(e){v((function(n){return(0,a.Z)({},n,e)}))};_({address:P,chainId:I}).then((function(n){e({claimer_balance:n})})),_({address:R,chainId:I}).then((function(n){e({bridge_qrcode_balance:n})})),_({address:R,chainId:5}).then((function(n){e({bridge_mainnet_balance:n})})),An({address:O,chainId:5}).then((function(n){e({bridge_mainnet_tokenBalance:n.tokenBalance,bridge_mainnet_tokenDecimals:n.tokenDecimals,bridge_mainnet_tokenSymbol:n.tokenSymbol}),An({address:D,chainId:I}).then((function(n){e({bridge_qrcode_tokenBalance:n.tokenBalance,bridge_qrcode_tokenDecimals:n.tokenDecimals,bridge_qrcode_tokenSymbol:n.tokenSymbol})})).catch((function(e){console.log(">> error fetch workchain bridge info",e)}))})).catch((function(e){console.log(">> error fetch mainnet bridge info",e)}))};(0,s.useEffect)((function(){console.log(">> useEffect - fetch bridge status"),k()}),[O,D]),(0,s.useEffect)((function(){T&&(C(!1),k())}),[T]);var A=function(){kn({chainId:I,address:B}).then((function(e){y(e),m(!0),r(!1)})).catch((function(e){m(!1),r(!1)}))};return(0,s.useEffect)((function(){console.log(">> useEffect"),A()}),[B]),(0,s.useEffect)((function(){g&&(x(!1),A())}),[B,g]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(Cn,{chainId:I,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U,{}),(0,i.jsx)("h3",{children:"Index page"}),t&&(0,i.jsxs)("div",{children:["Fetching QRCodeFactory (",B,") status"]}),!t&&!u&&(0,i.jsxs)("div",{children:["Fail fetch QRCodeFactory (",B,") status"]}),u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("nav",{children:[(0,i.jsx)("a",{href:"#/admin",children:"[Admin panel]"}),(0,i.jsx)("a",{href:"#/manager",children:"[Manager panel]"}),(0,i.jsx)("a",{href:"#/minter",children:"[Minter panel]"}),(0,i.jsx)("a",{href:"#/claimer",children:"[Claimer panel]"})]}),(0,i.jsx)(o,{views:{"/":l,"/admin/":K,"/admin/addenergy/:target":ae,"/admin/addtokens/:target":de,"/admin/managers/":ge,"/admin/managers/add":we,"/admin/managers/info/:managerAddress":Te,"/admin/managers/delete/:managerAddress":Ce,"/admin/minters/":Ae,"/admin/minters/add":Se,"/admin/minters/delete/:minterAddress":Ne,"/admin/minters/qrcodes/:minterAddress/:page":Ee,"/admin/claimers/:page":Re,"/admin/claimers/info/:claimerAddress":He,"/admin/claimers/ban/:claimerAddress":Qe,"/admin/claimers/unban/:claimerAddress":We,"/admin/bridge/withdraw/:target":Le,"/manager/":Ge,"/minter/":Ue,"/minter/mint":ze,"/claimer/":Ye,"/claimer/scanqrcode/":$e,"/qrcodeview/:qrCodeAddress":an,"/qrcodeclaim/:qrCodeAddress":ln,"/account/":dn,"/account/backup/":un,"/account/restore/":mn,"/bridge/":gn},props:{factoryStatus:h,backendStatus:j,UpdateFactoryStatus:function(){x(!0)},UpdateBackendStatus:function(){C(!0)}},on404:d.default})]})]})})})}},35883:function(){},46601:function(){},89214:function(){},85568:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[9764,8543,7738,3714,1732,9774,2888,179],(function(){return n=48312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);